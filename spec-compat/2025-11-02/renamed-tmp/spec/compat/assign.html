<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>assign: spec test case results</title>
<link rel="stylesheet" type="text/css" href="../../../web/base.css" />
<link rel="stylesheet" type="text/css" href="../../../web/spec-tests.css" />
  </head>
  <body class="width60">
    <p id="home-link">
      <a href=".">spec test index</a>
      /
      <a href="/">oils.pub</a>
    </p>
    <h1>Results for assign.test.sh</h1>
    <table>
    
<thead>
  <tr class="table-header">
  <td>status</td><td>bash</td><td>dash</td><td>ash</td><td>zsh</td><td>mksh</td><td>ksh</td><td>toysh</td><td>sush</td><td>brush</td><td>osh</td><td></td>
  </tr>
</thead>
<tr><td class="pass">pass</td> <td>36</td><td>22</td><td>28</td><td>35</td><td>33</td><td>34</td><td>21</td><td>29</td><td>36</td><td>47</td><td></td></tr>
<tr><td class="ok">ok</td> <td>6</td><td>11</td><td>0</td><td>8</td><td>7</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td></td></tr>
<tr><td class="n-i">N-I</td> <td>1</td><td>10</td><td>0</td><td>1</td><td>5</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td></td></tr>
<tr><td class="bug">BUG</td> <td>2</td><td>5</td><td>0</td><td>4</td><td>3</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td></td></tr>
<tr><td class="fail">FAIL</td> <td>3</td><td>0</td><td>20</td><td>0</td><td>0</td><td>14</td><td>27</td><td>19</td><td>12</td><td>0</td><td></td></tr>
<tr><td>total</td><td>48</td><td>48</td><td>48</td><td>48</td><td>48</td><td>48</td><td>48</td><td>48</td><td>48</td><td>48</td><td></td></tr>
<tr><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td></tr>

<thead>
  <tr class="table-header">
  <td>case</td><td>bash</td><td>dash</td><td>ash</td><td>zsh</td><td>mksh</td><td>ksh</td><td>toysh</td><td>sush</td><td>brush</td><td>osh</td><td class="case-desc">description</td>
  </tr>
</thead>
<tr><td>  0</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L4">Env value doesn't persist</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-0-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td>  1</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L12">Env value with equals</a></td></tr>
<tr><td>  2</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="bug">BUG</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L16">Env binding can use preceding bindings, but not subsequent ones</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-2-mksh">details</a></td><td class="details-row"><a href="#details-2-ksh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td>  3</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L30">Env value with two quotes</a></td></tr>
<tr><td>  4</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L34">Env value with escaped &lt;</a></td></tr>
<tr><td>  5</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L38">FOO=foo echo [foo]</a></td></tr>
<tr><td>  6</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L42">FOO=foo fun</a></td></tr>
<tr><td>  7</td><td class="pass">pass</td>	<td class="bug">BUG</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="ok">ok</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L49">Multiple temporary envs on the stack</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-7-dash">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-7-mksh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-7-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td>  8</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L113">Escaped = in command name</a></td></tr>
<tr><td>  9</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="ok">ok</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L118">Env binding not allowed before compound command</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-9-zsh">details</a></td><td class="details-row"><a href="#details-9-mksh">details</a></td><td class="details-row"><a href="#details-9-ksh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 10</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="ok">ok</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L126">Trying to run keyword 'for'</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-10-zsh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-10-sush">details</a></td><td class="details-row"><a href="#details-10-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 11</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L131">Empty env binding</a></td></tr>
<tr><td> 12</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L135">Assignment doesn't do word splitting</a></td></tr>
<tr><td> 13</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L141">Assignment doesn't do glob expansion</a></td></tr>
<tr><td> 14</td><td class="bug">BUG</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L147">Env binding in readonly/declare is NOT exported!  (pitfall)</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-14-bash">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-14-toysh">details</a></td><td class="details-row"></td><td class="details-row"><a href="#details-14-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 15</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="ok">ok</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L166">assignments / array assignments not interpreted after 'echo'</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-15-zsh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 16</td><td class="ok">ok</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L173">dynamic local variables (and splitting)</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-16-bash">details</a></td><td class="details-row"><a href="#details-16-dash">details</a></td><td class="details-row"><a href="#details-16-ash">details</a></td><td class="details-row"></td><td class="details-row"><a href="#details-16-mksh">details</a></td><td class="details-row"><a href="#details-16-ksh">details</a></td><td class="details-row"><a href="#details-16-toysh">details</a></td><td class="details-row"><a href="#details-16-sush">details</a></td><td class="details-row"><a href="#details-16-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 17</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L198">readonly x= gives empty string (regression)</a></td></tr>
<tr><td> 18</td><td class="pass">pass</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="bug">BUG</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L205">'local x' does not set variable</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-18-dash">details</a></td><td class="details-row"><a href="#details-18-ash">details</a></td><td class="details-row"><a href="#details-18-zsh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-18-toysh">details</a></td><td class="details-row"><a href="#details-18-sush">details</a></td><td class="details-row"><a href="#details-18-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 19</td><td class="pass">pass</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="bug">BUG</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L216">'local -a x' does not set variable</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-19-dash">details</a></td><td class="details-row"><a href="#details-19-ash">details</a></td><td class="details-row"><a href="#details-19-zsh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-19-toysh">details</a></td><td class="details-row"><a href="#details-19-sush">details</a></td><td class="details-row"><a href="#details-19-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 20</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="bug">BUG</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L227">'local x' and then array assignment</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-20-dash">details</a></td><td class="details-row"><a href="#details-20-ash">details</a></td><td class="details-row"><a href="#details-20-zsh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-20-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 21</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L240">'declare -A' and then dict assignment</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-21-dash">details</a></td><td class="details-row"><a href="#details-21-ash">details</a></td><td class="details-row"></td><td class="details-row"><a href="#details-21-mksh">details</a></td><td class="details-row"><a href="#details-21-ksh">details</a></td><td class="details-row"><a href="#details-21-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 22</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L252">declare in an if statement</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-22-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 23</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L268">Modify a temporary binding</a></td></tr>
<tr><td> 24</td><td class="fail">FAIL</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="ok">ok</td>	<td class="bug">BUG</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L281">Reveal existence of "temp frame" (All shells disagree here!!!)</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-24-bash">details</a></td><td class="details-row"><a href="#details-24-dash">details</a></td><td class="details-row"><a href="#details-24-ash">details</a></td><td class="details-row"><a href="#details-24-zsh">details</a></td><td class="details-row"><a href="#details-24-mksh">details</a></td><td class="details-row"><a href="#details-24-ksh">details</a></td><td class="details-row"><a href="#details-24-toysh">details</a></td><td class="details-row"><a href="#details-24-sush">details</a></td><td class="details-row"><a href="#details-24-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 25</td><td class="pass">pass</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="ok">ok</td>	<td class="bug">BUG</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L338">Test above without 'local' (which is not POSIX)</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-25-dash">details</a></td><td class="details-row"><a href="#details-25-ash">details</a></td><td class="details-row"><a href="#details-25-zsh">details</a></td><td class="details-row"><a href="#details-25-mksh">details</a></td><td class="details-row"></td><td class="details-row"><a href="#details-25-toysh">details</a></td><td class="details-row"><a href="#details-25-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 26</td><td class="ok">ok</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="ok">ok</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L373">Using ${x-default} after unsetting local shadowing a global</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-26-bash">details</a></td><td class="details-row"><a href="#details-26-dash">details</a></td><td class="details-row"><a href="#details-26-ash">details</a></td><td class="details-row"><a href="#details-26-zsh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-26-toysh">details</a></td><td class="details-row"><a href="#details-26-sush">details</a></td><td class="details-row"><a href="#details-26-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 27</td><td class="fail">FAIL</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="ok">ok</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L397">Using ${x-default} after unsetting a temp binding shadowing a global</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-27-bash">details</a></td><td class="details-row"><a href="#details-27-dash">details</a></td><td class="details-row"><a href="#details-27-ash">details</a></td><td class="details-row"><a href="#details-27-zsh">details</a></td><td class="details-row"></td><td class="details-row"><a href="#details-27-ksh">details</a></td><td class="details-row"><a href="#details-27-toysh">details</a></td><td class="details-row"><a href="#details-27-sush">details</a></td><td class="details-row"><a href="#details-27-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 28</td><td class="pass">pass</td>	<td class="bug">BUG</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L427">static assignment doesn't split</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-28-dash">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-28-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 29</td><td class="pass">pass</td>	<td class="bug">BUG</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L442">aliased assignment doesn't split</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-29-dash">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-29-toysh">details</a></td><td class="details-row"><a href="#details-29-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 30</td><td class="ok">ok</td>	<td class="ok">ok</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L458">assignment using dynamic keyword (splits in most shells, not in zsh/osh)</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-30-bash">details</a></td><td class="details-row"><a href="#details-30-dash">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-30-mksh">details</a></td><td class="details-row"><a href="#details-30-ksh">details</a></td><td class="details-row"><a href="#details-30-toysh">details</a></td><td class="details-row"><a href="#details-30-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 31</td><td class="ok">ok</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L476">assignment using dynamic var names doesn't split</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-31-bash">details</a></td><td class="details-row"><a href="#details-31-dash">details</a></td><td class="details-row"><a href="#details-31-ash">details</a></td><td class="details-row"></td><td class="details-row"><a href="#details-31-mksh">details</a></td><td class="details-row"><a href="#details-31-ksh">details</a></td><td class="details-row"><a href="#details-31-toysh">details</a></td><td class="details-row"><a href="#details-31-sush">details</a></td><td class="details-row"><a href="#details-31-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 32</td><td class="pass">pass</td>	<td class="bug">BUG</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L505">assign and glob</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-32-dash">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-32-toysh">details</a></td><td class="details-row"><a href="#details-32-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 33</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L525">declare and glob</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-33-dash">details</a></td><td class="details-row"><a href="#details-33-ash">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-33-toysh">details</a></td><td class="details-row"><a href="#details-33-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 34</td><td class="ok">ok</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L538">readonly $x where x='b c'</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-34-bash">details</a></td><td class="details-row"><a href="#details-34-dash">details</a></td><td class="details-row"><a href="#details-34-ash">details</a></td><td class="details-row"></td><td class="details-row"><a href="#details-34-mksh">details</a></td><td class="details-row"><a href="#details-34-ksh">details</a></td><td class="details-row"><a href="#details-34-toysh">details</a></td><td class="details-row"><a href="#details-34-sush">details</a></td><td class="details-row"><a href="#details-34-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 35</td><td class="pass">pass</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L563">readonly a=(1 2) no_value c=(3 4) makes 'no_value' readonly</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-35-dash">details</a></td><td class="details-row"><a href="#details-35-ash">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-35-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 36</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L570">export a=1 no_value c=2</a></td></tr>
<tr><td> 37</td><td class="pass">pass</td>	<td class="bug">BUG</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L578">local a=loc $var c=loc</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-37-dash">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 38</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="bug">BUG</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L596">redirect after assignment builtin (eval redirects after evaluating arguments)</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-38-zsh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-38-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 39</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L611">redirect after command sub (like case above but without assignment builtin)</a></td></tr>
<tr><td> 40</td><td class="bug">BUG</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L620">redirect after bare assignment</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-40-bash">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-40-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 41</td><td class="ok">ok</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="ok">ok</td>	<td class="case-desc"><a href="assign.test.html#L631">redirect after declare -p</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-41-bash">details</a></td><td class="details-row"><a href="#details-41-dash">details</a></td><td class="details-row"><a href="#details-41-ash">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-41-toysh">details</a></td><td class="details-row"><a href="#details-41-sush">details</a></td><td class="details-row"><a href="#details-41-brush">details</a></td><td class="details-row"><a href="#details-41-osh">details</a></td><td class="details-row"></td></tr>
<tr><td> 42</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L651">declare -a arr does not remove existing arrays (OSH regression)</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-42-dash">details</a></td><td class="details-row"><a href="#details-42-ash">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-42-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 43</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L664">declare -A dict does not remove existing arrays (OSH regression)</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-43-dash">details</a></td><td class="details-row"><a href="#details-43-ash">details</a></td><td class="details-row"></td><td class="details-row"><a href="#details-43-mksh">details</a></td><td class="details-row"><a href="#details-43-ksh">details</a></td><td class="details-row"><a href="#details-43-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 44</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L679">"readonly -a arr" and "readonly -A dict" should not not remove existing arrays</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-44-dash">details</a></td><td class="details-row"><a href="#details-44-ash">details</a></td><td class="details-row"></td><td class="details-row"><a href="#details-44-mksh">details</a></td><td class="details-row"><a href="#details-44-ksh">details</a></td><td class="details-row"><a href="#details-44-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 45</td><td class="n-i">N-I</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="ok">ok</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L702">"declare -a arr" and "readonly -a a" creates an empty array (OSH)</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-45-bash">details</a></td><td class="details-row"><a href="#details-45-dash">details</a></td><td class="details-row"><a href="#details-45-ash">details</a></td><td class="details-row"><a href="#details-45-zsh">details</a></td><td class="details-row"><a href="#details-45-mksh">details</a></td><td class="details-row"><a href="#details-45-ksh">details</a></td><td class="details-row"><a href="#details-45-toysh">details</a></td><td class="details-row"><a href="#details-45-sush">details</a></td><td class="details-row"><a href="#details-45-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 46</td><td class="fail">FAIL</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="n-i">N-I</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L738">"var d = {}; declare -p d" does not print anything (OSH)</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-46-bash">details</a></td><td class="details-row"><a href="#details-46-dash">details</a></td><td class="details-row"><a href="#details-46-ash">details</a></td><td class="details-row"><a href="#details-46-zsh">details</a></td><td class="details-row"><a href="#details-46-mksh">details</a></td><td class="details-row"><a href="#details-46-ksh">details</a></td><td class="details-row"><a href="#details-46-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 47</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="assign.test.html#L751">readonly array should not be modified by a+=(1)</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-47-dash">details</a></td><td class="details-row"><a href="#details-47-ash">details</a></td><td class="details-row"></td><td class="details-row"><a href="#details-47-mksh">details</a></td><td class="details-row"><a href="#details-47-ksh">details</a></td><td class="details-row"><a href="#details-47-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
</table>
<pre>321 passed, 33 OK, 17 not implemented, 14 BUG, 95 failed, 0 timeouts, 0 cases skipped
</pre><h2>Details on runs that didn't PASS</h2><table id="details"><tr><td><a name="details-0-toysh"></a><b>toysh</b></td><td>0 <a href="assign.test.html#L4">Env value doesn't persist</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'foo\n--\n'
Got      'foo\n\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>foo

</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-2-mksh"></a><b>mksh</b></td><td>2 <a href="assign.test.html#L16">Env binding can use preceding bindings, but not subsequent ones</a><br/><br/>
<i>stdout:</i> <br/>
<pre>foo
[][]
baz
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-2-ksh"></a><b>ksh</b></td><td>2 <a href="assign.test.html#L16">Env binding can use preceding bindings, but not subsequent ones</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected 'foo\n[foo][]\nbaz\n'
Got      'foo\n[][]\nbaz\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>foo
[][]
baz
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-7-dash"></a><b>dash</b></td><td>7 <a href="assign.test.html#L49">Multiple temporary envs on the stack</a><br/><br/>
<i>stdout:</i> <br/>
<pre>f [] [A]
--- g() ---
None
None
None
None
p
--- f() ---
None
None
None
None
None
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-7-mksh"></a><b>mksh</b></td><td>7 <a href="assign.test.html#L49">Multiple temporary envs on the stack</a><br/><br/>
<i>stdout:</i> <br/>
<pre>f [] [A]
--- g() ---
f
[]
[A]
None
p
--- f() ---
f
[]
[A]
None
None
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-7-sush"></a><b>sush</b></td><td>7 <a href="assign.test.html#L49">Multiple temporary envs on the stack</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected 'f [] [A]\n--- g() ---\nf\n[]\n[A]\nNone\np\n--- f() ---\nf\nNone\nNone\nNone\nNone\n'
Got      'f [] [A]\n--- g() ---\nNone\nNone\nNone\nNone\np\n--- f() ---\nNone\nNone\nNone\nNone\nNone\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>f [] [A]
--- g() ---
None
None
None
None
p
--- f() ---
None
None
None
None
None
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-9-zsh"></a><b>zsh</b></td><td>9 <a href="assign.test.html#L118">Env binding not allowed before compound command</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>zsh: parse error near `for'
</pre></td></tr><tr><td><a name="details-9-mksh"></a><b>mksh</b></td><td>9 <a href="assign.test.html#L118">Env binding not allowed before compound command</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>mksh: &lt;stdin&gt;[1]: syntax error: 'do' unexpected
</pre></td></tr><tr><td><a name="details-9-ksh"></a><b>ksh</b></td><td>9 <a href="assign.test.html#L118">Env binding not allowed before compound command</a><br/><br/>
<span class="assertion">
[ksh status]
Expected 2
Got      1
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[1]: syntax error: unexpected 'do'
</pre></td></tr><tr><td><a name="details-10-zsh"></a><b>zsh</b></td><td>10 <a href="assign.test.html#L126">Trying to run keyword 'for'</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>zsh: parse error near `for'
</pre></td></tr><tr><td><a name="details-10-sush"></a><b>sush</b></td><td>10 <a href="assign.test.html#L126">Trying to run keyword 'for'</a><br/><br/>
<span class="assertion">
[sush status]
Expected 127
Got      0
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-10-brush"></a><b>brush</b></td><td>10 <a href="assign.test.html#L126">Trying to run keyword 'for'</a><br/><br/>
<span class="assertion">
[brush status]
Expected 127
Got      2
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>[31merror:[39m main: syntax error near token `
' (line 1 col 12)
</pre></td></tr><tr><td><a name="details-14-bash"></a><b>bash</b></td><td>14 <a href="assign.test.html#L147">Env binding in readonly/declare is NOT exported!  (pitfall)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>v=None
v2=
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-14-toysh"></a><b>toysh</b></td><td>14 <a href="assign.test.html#L147">Env binding in readonly/declare is NOT exported!  (pitfall)</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'v=None\nv2=foo\n'
Got      'v=\nv2=\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>v=
v2=
</pre><i>stderr:</i> <br/>
<pre>sh: readonly: No such file or directory
sh: readonly: No such file or directory
</pre></td></tr><tr><td><a name="details-14-brush"></a><b>brush</b></td><td>14 <a href="assign.test.html#L147">Env binding in readonly/declare is NOT exported!  (pitfall)</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected 'v=None\nv2=foo\n'
Got      'v=None\nv2=\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>v=None
v2=
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-15-zsh"></a><b>zsh</b></td><td>15 <a href="assign.test.html#L166">assignments / array assignments not interpreted after 'echo'</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>zsh: no matches found: b[0]=2
</pre></td></tr><tr><td><a name="details-16-bash"></a><b>bash</b></td><td>16 <a href="assign.test.html#L173">dynamic local variables (and splitting)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>x='y a=b'
a=''
x='y'
a='b'
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-16-dash"></a><b>dash</b></td><td>16 <a href="assign.test.html#L173">dynamic local variables (and splitting)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>x='y a=b'
a=''
x='y'
a='b'
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-16-ash"></a><b>ash</b></td><td>16 <a href="assign.test.html#L173">dynamic local variables (and splitting)</a><br/><br/>
<span class="assertion">
[ash stdout]
Expected "x='y a=b'\na=''\nx='y a=b'\na=''\n"
Got      "x='y a=b'\na=''\nx='y'\na='b'\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x='y a=b'
a=''
x='y'
a='b'
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-16-mksh"></a><b>mksh</b></td><td>16 <a href="assign.test.html#L173">dynamic local variables (and splitting)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>x='y a=b'
a=''
x='y'
a='b'
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-16-ksh"></a><b>ksh</b></td><td>16 <a href="assign.test.html#L173">dynamic local variables (and splitting)</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected "x='y a=b'\na=''\nx='y a=b'\na=''\n"
Got      "x='y a=b'\na=''\nx='y'\na='b'\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x='y a=b'
a=''
x='y'
a='b'
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-16-toysh"></a><b>toysh</b></td><td>16 <a href="assign.test.html#L173">dynamic local variables (and splitting)</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected "x='y a=b'\na=''\nx='y a=b'\na=''\n"
Got      "x='y a=b'\na=''\nx='y a=b'\na='b'\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x='y a=b'
a=''
x='y a=b'
a='b'
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-16-sush"></a><b>sush</b></td><td>16 <a href="assign.test.html#L173">dynamic local variables (and splitting)</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected "x='y a=b'\na=''\nx='y a=b'\na=''\n"
Got      "x='y a=b'\na=''\nx='y'\na='b'\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x='y a=b'
a=''
x='y'
a='b'
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-16-brush"></a><b>brush</b></td><td>16 <a href="assign.test.html#L173">dynamic local variables (and splitting)</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected "x='y a=b'\na=''\nx='y a=b'\na=''\n"
Got      "x=''\na=''\nx=''\na=''\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=''
a=''
x=''
a=''
</pre><i>stderr:</i> <br/>
<pre>local: x=y a=b: not a valid variable name
local: x=y: not a valid variable name
local: a=b: not a valid variable name
</pre></td></tr><tr><td><a name="details-18-dash"></a><b>dash</b></td><td>18 <a href="assign.test.html#L205">'local x' does not set variable</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>dash: 4: x: parameter not set
</pre></td></tr><tr><td><a name="details-18-ash"></a><b>ash</b></td><td>18 <a href="assign.test.html#L205">'local x' does not set variable</a><br/><br/>
<span class="assertion">
[ash status]
Expected 1
Got      2
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>ash: x: parameter not set
</pre></td></tr><tr><td><a name="details-18-zsh"></a><b>zsh</b></td><td>18 <a href="assign.test.html#L205">'local x' does not set variable</a><br/><br/>
<i>stdout:</i> <br/>
<pre>
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-18-toysh"></a><b>toysh</b></td><td>18 <a href="assign.test.html#L205">'local x' does not set variable</a><br/><br/>
<span class="assertion">
[toysh status]
Expected 1
Got      0
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>
</pre><i>stderr:</i> <br/>
<pre>set: bad -o nounset
</pre></td></tr><tr><td><a name="details-18-sush"></a><b>sush</b></td><td>18 <a href="assign.test.html#L205">'local x' does not set variable</a><br/><br/>
<span class="assertion">
[sush status]
Expected 1
Got      0
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>
</pre><i>stderr:</i> <br/>
<pre>/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 1: set: nounset: invalid option name
</pre></td></tr><tr><td><a name="details-18-brush"></a><b>brush</b></td><td>18 <a href="assign.test.html#L205">'local x' does not set variable</a><br/><br/>
<span class="assertion">
[brush status]
Expected 1
Got      0
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-19-dash"></a><b>dash</b></td><td>19 <a href="assign.test.html#L216">'local -a x' does not set variable</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>dash: 3: local: -a: bad variable name
</pre></td></tr><tr><td><a name="details-19-ash"></a><b>ash</b></td><td>19 <a href="assign.test.html#L216">'local -a x' does not set variable</a><br/><br/>
<span class="assertion">
[ash status]
Expected 1
Got      2
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>ash: local: line 3: -a: bad variable name
</pre></td></tr><tr><td><a name="details-19-zsh"></a><b>zsh</b></td><td>19 <a href="assign.test.html#L216">'local -a x' does not set variable</a><br/><br/>
<i>stdout:</i> <br/>
<pre>
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-19-toysh"></a><b>toysh</b></td><td>19 <a href="assign.test.html#L216">'local -a x' does not set variable</a><br/><br/>
<span class="assertion">
[toysh status]
Expected 1
Got      0
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>
</pre><i>stderr:</i> <br/>
<pre>set: bad -o nounset
local: bad -a
</pre></td></tr><tr><td><a name="details-19-sush"></a><b>sush</b></td><td>19 <a href="assign.test.html#L216">'local -a x' does not set variable</a><br/><br/>
<span class="assertion">
[sush status]
Expected 1
Got      0
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>
</pre><i>stderr:</i> <br/>
<pre>/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 1: set: nounset: invalid option name
</pre></td></tr><tr><td><a name="details-19-brush"></a><b>brush</b></td><td>19 <a href="assign.test.html#L216">'local -a x' does not set variable</a><br/><br/>
<span class="assertion">
[brush status]
Expected 1
Got      0
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-20-dash"></a><b>dash</b></td><td>20 <a href="assign.test.html#L227">'local x' and then array assignment</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>dash: 3: x[3]=foo: not found
dash: 4: Bad substitution
</pre></td></tr><tr><td><a name="details-20-ash"></a><b>ash</b></td><td>20 <a href="assign.test.html#L227">'local x' and then array assignment</a><br/><br/>
<span class="assertion">
[ash stdout]
Expected 'foo\n'
Got      ''
</span><br/>
<span class="assertion">
[ash status]
Expected 0
Got      2
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>ash: x[3]=foo: not found
ash: syntax error: bad substitution
</pre></td></tr><tr><td><a name="details-20-zsh"></a><b>zsh</b></td><td>20 <a href="assign.test.html#L227">'local x' and then array assignment</a><br/><br/>
<i>stdout:</i> <br/>
<pre>o
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-20-toysh"></a><b>toysh</b></td><td>20 <a href="assign.test.html#L227">'local x' and then array assignment</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'foo\n'
Got      '\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>
</pre><i>stderr:</i> <br/>
<pre>sh: x[3]=foo: No such file or directory
</pre></td></tr><tr><td><a name="details-21-dash"></a><b>dash</b></td><td>21 <a href="assign.test.html#L240">'declare -A' and then dict assignment</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>dash: 1: declare: not found
dash: 3: foo[bar]=value: not found
dash: 4: Bad substitution
</pre></td></tr><tr><td><a name="details-21-ash"></a><b>ash</b></td><td>21 <a href="assign.test.html#L240">'declare -A' and then dict assignment</a><br/><br/>
<span class="assertion">
[ash stdout]
Expected 'value\n'
Got      ''
</span><br/>
<span class="assertion">
[ash status]
Expected 0
Got      2
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>ash: declare: not found
ash: foo[bar]=value: not found
ash: syntax error: bad substitution
</pre></td></tr><tr><td><a name="details-21-mksh"></a><b>mksh</b></td><td>21 <a href="assign.test.html#L240">'declare -A' and then dict assignment</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>mksh: &lt;stdin&gt;[1]: declare: not found
mksh: &lt;stdin&gt;[3]: "bar": unexpected '"'
</pre></td></tr><tr><td><a name="details-21-ksh"></a><b>ksh</b></td><td>21 <a href="assign.test.html#L240">'declare -A' and then dict assignment</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected 'value\n'
Got      ''
</span><br/>
<span class="assertion">
[ksh status]
Expected 0
Got      1
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[1]: declare: inaccessible or not found
W: ksh: &lt;stdin&gt;[3]: "bar": unexpected '"'
</pre></td></tr><tr><td><a name="details-21-toysh"></a><b>toysh</b></td><td>21 <a href="assign.test.html#L240">'declare -A' and then dict assignment</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'value\n'
Got      '\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>
</pre><i>stderr:</i> <br/>
<pre>sh: foo[bar]=value: No such file or directory
</pre></td></tr><tr><td><a name="details-22-toysh"></a><b>toysh</b></td><td>22 <a href="assign.test.html#L252">declare in an if statement</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'bar\neggs\n'
Got      'HI\n\nBAD\neggs\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>HI

BAD
eggs
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-24-bash"></a><b>bash</b></td><td>24 <a href="assign.test.html#L281">Reveal existence of "temp frame" (All shells disagree here!!!)</a><br/><br/>
<span class="assertion">
[bash stdout]
Expected 'x=temp-binding\nx=mutated-temp\nx=local\nx=global\nx=global\n'
Got      'x=temp-binding\nx=mutated-temp\nx=local\nx=\nx=global\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=mutated-temp
x=local
x=
x=global
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-24-dash"></a><b>dash</b></td><td>24 <a href="assign.test.html#L281">Reveal existence of "temp frame" (All shells disagree here!!!)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=mutated-temp
x=local
x=
x=global
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-24-ash"></a><b>ash</b></td><td>24 <a href="assign.test.html#L281">Reveal existence of "temp frame" (All shells disagree here!!!)</a><br/><br/>
<span class="assertion">
[ash stdout]
Expected 'x=temp-binding\nx=mutated-temp\nx=local\nx=mutated-temp\nx=global\n'
Got      'x=temp-binding\nx=mutated-temp\nx=local\nx=\nx=global\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=mutated-temp
x=local
x=
x=global
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-24-zsh"></a><b>zsh</b></td><td>24 <a href="assign.test.html#L281">Reveal existence of "temp frame" (All shells disagree here!!!)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=mutated-temp
x=local
x=
x=global
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-24-mksh"></a><b>mksh</b></td><td>24 <a href="assign.test.html#L281">Reveal existence of "temp frame" (All shells disagree here!!!)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=mutated-temp
x=local
x=mutated-temp
x=mutated-temp
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-24-ksh"></a><b>ksh</b></td><td>24 <a href="assign.test.html#L281">Reveal existence of "temp frame" (All shells disagree here!!!)</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected 'x=temp-binding\nx=mutated-temp\nx=local\nx=mutated-temp\nx=global\n'
Got      'x=temp-binding\nx=mutated-temp\nx=local\nx=global\nx=global\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=mutated-temp
x=local
x=global
x=global
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-24-toysh"></a><b>toysh</b></td><td>24 <a href="assign.test.html#L281">Reveal existence of "temp frame" (All shells disagree here!!!)</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'x=temp-binding\nx=mutated-temp\nx=local\nx=mutated-temp\nx=global\n'
Got      'x=temp-binding\nx=mutated-temp\nx=local\nx=\nx=mutated-temp\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=mutated-temp
x=local
x=
x=mutated-temp
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-24-sush"></a><b>sush</b></td><td>24 <a href="assign.test.html#L281">Reveal existence of "temp frame" (All shells disagree here!!!)</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected 'x=temp-binding\nx=mutated-temp\nx=local\nx=mutated-temp\nx=global\n'
Got      'x=temp-binding\nx=mutated-temp\nx=local\nx=\nx=\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=mutated-temp
x=local
x=
x=
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-24-brush"></a><b>brush</b></td><td>24 <a href="assign.test.html#L281">Reveal existence of "temp frame" (All shells disagree here!!!)</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected 'x=temp-binding\nx=mutated-temp\nx=local\nx=mutated-temp\nx=global\n'
Got      'x=temp-binding\nx=mutated-temp\nx=local\nx=\nx=global\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=mutated-temp
x=local
x=
x=global
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-25-dash"></a><b>dash</b></td><td>25 <a href="assign.test.html#L338">Test above without 'local' (which is not POSIX)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=mutated-temp
x=
x=global
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-25-ash"></a><b>ash</b></td><td>25 <a href="assign.test.html#L338">Test above without 'local' (which is not POSIX)</a><br/><br/>
<span class="assertion">
[ash stdout]
Expected 'x=temp-binding\nx=mutated-temp\nx=global\nx=global\n'
Got      'x=temp-binding\nx=mutated-temp\nx=\nx=global\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=mutated-temp
x=
x=global
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-25-zsh"></a><b>zsh</b></td><td>25 <a href="assign.test.html#L338">Test above without 'local' (which is not POSIX)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=mutated-temp
x=
x=global
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-25-mksh"></a><b>mksh</b></td><td>25 <a href="assign.test.html#L338">Test above without 'local' (which is not POSIX)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=mutated-temp
x=
x=
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-25-toysh"></a><b>toysh</b></td><td>25 <a href="assign.test.html#L338">Test above without 'local' (which is not POSIX)</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'x=temp-binding\nx=mutated-temp\nx=global\nx=global\n'
Got      'x=temp-binding\nx=mutated-temp\nx=\nx=\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=mutated-temp
x=
x=
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-25-sush"></a><b>sush</b></td><td>25 <a href="assign.test.html#L338">Test above without 'local' (which is not POSIX)</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected 'x=temp-binding\nx=mutated-temp\nx=global\nx=global\n'
Got      'x=temp-binding\nx=mutated-temp\nx=\nx=\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=mutated-temp
x=
x=
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-26-bash"></a><b>bash</b></td><td>26 <a href="assign.test.html#L373">Using ${x-default} after unsetting local shadowing a global</a><br/><br/>
<i>stdout:</i> <br/>
<pre>x=global
x=local
- operator = default
:- operator = default
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-26-dash"></a><b>dash</b></td><td>26 <a href="assign.test.html#L373">Using ${x-default} after unsetting local shadowing a global</a><br/><br/>
<i>stdout:</i> <br/>
<pre>x=global
x=local
- operator = default
:- operator = default
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-26-ash"></a><b>ash</b></td><td>26 <a href="assign.test.html#L373">Using ${x-default} after unsetting local shadowing a global</a><br/><br/>
<span class="assertion">
[ash stdout]
Expected 'x=global\nx=local\n- operator = global\n:- operator = global\n'
Got      'x=global\nx=local\n- operator = default\n:- operator = default\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=global
x=local
- operator = default
:- operator = default
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-26-zsh"></a><b>zsh</b></td><td>26 <a href="assign.test.html#L373">Using ${x-default} after unsetting local shadowing a global</a><br/><br/>
<i>stdout:</i> <br/>
<pre>x=global
x=local
- operator = default
:- operator = default
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-26-toysh"></a><b>toysh</b></td><td>26 <a href="assign.test.html#L373">Using ${x-default} after unsetting local shadowing a global</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'x=global\nx=local\n- operator = global\n:- operator = global\n'
Got      'x=global\nx=local\n- operator = default\n:- operator = default\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=global
x=local
- operator = default
:- operator = default
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-26-sush"></a><b>sush</b></td><td>26 <a href="assign.test.html#L373">Using ${x-default} after unsetting local shadowing a global</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected 'x=global\nx=local\n- operator = global\n:- operator = global\n'
Got      'x=global\nx=local\n- operator = default\n:- operator = default\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=global
x=local
- operator = default
:- operator = default
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-26-brush"></a><b>brush</b></td><td>26 <a href="assign.test.html#L373">Using ${x-default} after unsetting local shadowing a global</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected 'x=global\nx=local\n- operator = global\n:- operator = global\n'
Got      'x=global\nx=local\n- operator = default\n:- operator = default\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=global
x=local
- operator = default
:- operator = default
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-27-bash"></a><b>bash</b></td><td>27 <a href="assign.test.html#L397">Using ${x-default} after unsetting a temp binding shadowing a global</a><br/><br/>
<span class="assertion">
[bash stdout]
Expected 'x=temp-binding\nx=local\n- operator = global\n:- operator = global\n'
Got      'x=temp-binding\nx=local\n- operator = default\n:- operator = default\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=local
- operator = default
:- operator = default
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-27-dash"></a><b>dash</b></td><td>27 <a href="assign.test.html#L397">Using ${x-default} after unsetting a temp binding shadowing a global</a><br/><br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=local
- operator = default
:- operator = default
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-27-ash"></a><b>ash</b></td><td>27 <a href="assign.test.html#L397">Using ${x-default} after unsetting a temp binding shadowing a global</a><br/><br/>
<span class="assertion">
[ash stdout]
Expected 'x=temp-binding\nx=local\n- operator = temp-binding\n:- operator = temp-binding\n'
Got      'x=temp-binding\nx=local\n- operator = default\n:- operator = default\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=local
- operator = default
:- operator = default
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-27-zsh"></a><b>zsh</b></td><td>27 <a href="assign.test.html#L397">Using ${x-default} after unsetting a temp binding shadowing a global</a><br/><br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=local
- operator = default
:- operator = default
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-27-ksh"></a><b>ksh</b></td><td>27 <a href="assign.test.html#L397">Using ${x-default} after unsetting a temp binding shadowing a global</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected 'x=temp-binding\nx=local\n- operator = temp-binding\n:- operator = temp-binding\n'
Got      'x=temp-binding\nx=local\n- operator = global\n:- operator = global\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=local
- operator = global
:- operator = global
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-27-toysh"></a><b>toysh</b></td><td>27 <a href="assign.test.html#L397">Using ${x-default} after unsetting a temp binding shadowing a global</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'x=temp-binding\nx=local\n- operator = temp-binding\n:- operator = temp-binding\n'
Got      'x=temp-binding\nx=local\n- operator = default\n:- operator = default\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=local
- operator = default
:- operator = default
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-27-sush"></a><b>sush</b></td><td>27 <a href="assign.test.html#L397">Using ${x-default} after unsetting a temp binding shadowing a global</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected 'x=temp-binding\nx=local\n- operator = temp-binding\n:- operator = temp-binding\n'
Got      'x=temp-binding\nx=local\n- operator = default\n:- operator = default\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=local
- operator = default
:- operator = default
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-27-brush"></a><b>brush</b></td><td>27 <a href="assign.test.html#L397">Using ${x-default} after unsetting a temp binding shadowing a global</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected 'x=temp-binding\nx=local\n- operator = temp-binding\n:- operator = temp-binding\n'
Got      'x=temp-binding\nx=local\n- operator = default\n:- operator = default\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>x=temp-binding
x=local
- operator = default
:- operator = default
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-28-dash"></a><b>dash</b></td><td>28 <a href="assign.test.html#L427">static assignment doesn't split</a><br/><br/>
<i>stdout:</i> <br/>
<pre>['a', 'a b c', 'a']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-28-toysh"></a><b>toysh</b></td><td>28 <a href="assign.test.html#L427">static assignment doesn't split</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected "['a b c', 'a b c', 'a b c']\n"
Got      "['a', 'a b c', '']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['a', 'a b c', '']
</pre><i>stderr:</i> <br/>
<pre>sh: readonly: No such file or directory
</pre></td></tr><tr><td><a name="details-29-dash"></a><b>dash</b></td><td>29 <a href="assign.test.html#L442">aliased assignment doesn't split</a><br/><br/>
<i>stdout:</i> <br/>
<pre>['a', 'a']
</pre><i>stderr:</i> <br/>
<pre>dash: 1: shopt: not found
</pre></td></tr><tr><td><a name="details-29-toysh"></a><b>toysh</b></td><td>29 <a href="assign.test.html#L442">aliased assignment doesn't split</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected "['a b c', 'a b c']\n"
Got      "['', '']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['', '']
</pre><i>stderr:</i> <br/>
<pre>sh: shopt: No such file or directory
sh: alias: No such file or directory
sh: alias: No such file or directory
sh: e: No such file or directory
sh: r: No such file or directory
</pre></td></tr><tr><td><a name="details-29-sush"></a><b>sush</b></td><td>29 <a href="assign.test.html#L442">aliased assignment doesn't split</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected "['a b c', 'a b c']\n"
Got      'declare -ar BASH_VERSINFO=([0]="1" [1]="2" [2]="2" [3]="rusty_bash" [4]="release" [5]="x86_64-unknown-linux")\ndeclare -ir UID="1000"\n[\'\', \'\']\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -ar BASH_VERSINFO=([0]="1" [1]="2" [2]="2" [3]="rusty_bash" [4]="release" [5]="x86_64-unknown-linux")
declare -ir UID="1000"
['', '']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-30-bash"></a><b>bash</b></td><td>30 <a href="assign.test.html#L458">assignment using dynamic keyword (splits in most shells, not in zsh/osh)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>['a', 'a']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-30-dash"></a><b>dash</b></td><td>30 <a href="assign.test.html#L458">assignment using dynamic keyword (splits in most shells, not in zsh/osh)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>['a', 'a']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-30-mksh"></a><b>mksh</b></td><td>30 <a href="assign.test.html#L458">assignment using dynamic keyword (splits in most shells, not in zsh/osh)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>['a', 'a']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-30-ksh"></a><b>ksh</b></td><td>30 <a href="assign.test.html#L458">assignment using dynamic keyword (splits in most shells, not in zsh/osh)</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected "['a b c', 'a b c']\n"
Got      "['a', 'a']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['a', 'a']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-30-toysh"></a><b>toysh</b></td><td>30 <a href="assign.test.html#L458">assignment using dynamic keyword (splits in most shells, not in zsh/osh)</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected "['a b c', 'a b c']\n"
Got      "['a', '']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['a', '']
</pre><i>stderr:</i> <br/>
<pre>sh: readonly: No such file or directory
</pre></td></tr><tr><td><a name="details-30-sush"></a><b>sush</b></td><td>30 <a href="assign.test.html#L458">assignment using dynamic keyword (splits in most shells, not in zsh/osh)</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected "['a b c', 'a b c']\n"
Got      'declare -ar BASH_VERSINFO=([0]="1" [1]="2" [2]="2" [3]="rusty_bash" [4]="release" [5]="x86_64-unknown-linux")\ndeclare -ir UID="1000"\n[\'\', \'\']\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -ar BASH_VERSINFO=([0]="1" [1]="2" [2]="2" [3]="rusty_bash" [4]="release" [5]="x86_64-unknown-linux")
declare -ir UID="1000"
['', '']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-31-bash"></a><b>bash</b></td><td>31 <a href="assign.test.html#L476">assignment using dynamic var names doesn't split</a><br/><br/>
<i>stdout:</i> <br/>
<pre>['a', 'a']
['a b c', 'a b c']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-31-dash"></a><b>dash</b></td><td>31 <a href="assign.test.html#L476">assignment using dynamic var names doesn't split</a><br/><br/>
<i>stdout:</i> <br/>
<pre>['a', 'a']
['a b c', 'a b c']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-31-ash"></a><b>ash</b></td><td>31 <a href="assign.test.html#L476">assignment using dynamic var names doesn't split</a><br/><br/>
<span class="assertion">
[ash stdout]
Expected "['a b c', 'a b c']\n['a b c', 'a b c']\n"
Got      "['a', 'a']\n['a b c', 'a b c']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['a', 'a']
['a b c', 'a b c']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-31-mksh"></a><b>mksh</b></td><td>31 <a href="assign.test.html#L476">assignment using dynamic var names doesn't split</a><br/><br/>
<i>stdout:</i> <br/>
<pre>['a', 'a']
['a b c', 'a b c']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-31-ksh"></a><b>ksh</b></td><td>31 <a href="assign.test.html#L476">assignment using dynamic var names doesn't split</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected "['a b c', 'a b c']\n['a b c', 'a b c']\n"
Got      "['a', 'a']\n['a b c', 'a b c']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['a', 'a']
['a b c', 'a b c']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-31-toysh"></a><b>toysh</b></td><td>31 <a href="assign.test.html#L476">assignment using dynamic var names doesn't split</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected "['a b c', 'a b c']\n['a b c', 'a b c']\n"
Got      "['a', '']\n['a b c', '']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['a', '']
['a b c', '']
</pre><i>stderr:</i> <br/>
<pre>sh: readonly: No such file or directory
sh: readonly: No such file or directory
</pre></td></tr><tr><td><a name="details-31-sush"></a><b>sush</b></td><td>31 <a href="assign.test.html#L476">assignment using dynamic var names doesn't split</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected "['a b c', 'a b c']\n['a b c', 'a b c']\n"
Got      "['a', 'a']\n['a b c', 'a b c']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['a', 'a']
['a b c', 'a b c']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-31-brush"></a><b>brush</b></td><td>31 <a href="assign.test.html#L476">assignment using dynamic var names doesn't split</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected "['a b c', 'a b c']\n['a b c', 'a b c']\n"
Got      "['', '']\n['', '']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['', '']
['', '']
</pre><i>stderr:</i> <br/>
<pre>readonly: ro=a: not a valid variable name
readonly: ro2=a b c: not a valid variable name
</pre></td></tr><tr><td><a name="details-32-dash"></a><b>dash</b></td><td>32 <a href="assign.test.html#L505">assign and glob</a><br/><br/>
<i>stdout:</i> <br/>
<pre>['*']
['b']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-32-toysh"></a><b>toysh</b></td><td>32 <a href="assign.test.html#L505">assign and glob</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected "['*']\n['*']\n"
Got      "['foo=a', 'foo=b']\n['b']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['foo=a', 'foo=b']
['b']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-32-sush"></a><b>sush</b></td><td>32 <a href="assign.test.html#L505">assign and glob</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected "['*']\n['*']\n"
Got      "['foo=a foo=b']\n['foo=a foo=b']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['foo=a foo=b']
['foo=a foo=b']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-33-dash"></a><b>dash</b></td><td>33 <a href="assign.test.html#L525">declare and glob</a><br/><br/>
<i>stdout:</i> <br/>
<pre>['']
</pre><i>stderr:</i> <br/>
<pre>dash: 3: typeset: not found
</pre></td></tr><tr><td><a name="details-33-ash"></a><b>ash</b></td><td>33 <a href="assign.test.html#L525">declare and glob</a><br/><br/>
<span class="assertion">
[ash stdout]
Expected "['*']\n"
Got      "['']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['']
</pre><i>stderr:</i> <br/>
<pre>ash: typeset: not found
</pre></td></tr><tr><td><a name="details-33-toysh"></a><b>toysh</b></td><td>33 <a href="assign.test.html#L525">declare and glob</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected "['*']\n"
Got      "['']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['']
</pre><i>stderr:</i> <br/>
<pre>sh: typeset: No such file or directory
</pre></td></tr><tr><td><a name="details-33-sush"></a><b>sush</b></td><td>33 <a href="assign.test.html#L525">declare and glob</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected "['*']\n"
Got      "['foo=a foo=b']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['foo=a foo=b']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-34-bash"></a><b>bash</b></td><td>34 <a href="assign.test.html#L538">readonly $x where x='b c'</a><br/><br/>
<i>stdout:</i> <br/>
<pre>status=1
status=1
status=1
</pre><i>stderr:</i> <br/>
<pre>bash: line 4: a: readonly variable
bash: line 6: b: readonly variable
bash: line 8: c: readonly variable
</pre></td></tr><tr><td><a name="details-34-dash"></a><b>dash</b></td><td>34 <a href="assign.test.html#L538">readonly $x where x='b c'</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>dash: 4: a: is read only
</pre></td></tr><tr><td><a name="details-34-ash"></a><b>ash</b></td><td>34 <a href="assign.test.html#L538">readonly $x where x='b c'</a><br/><br/>
<span class="assertion">
[ash status]
Expected 1
Got      2
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>ash: a: is read only
</pre></td></tr><tr><td><a name="details-34-mksh"></a><b>mksh</b></td><td>34 <a href="assign.test.html#L538">readonly $x where x='b c'</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>mksh: &lt;stdin&gt;[4]: read-only: a
</pre></td></tr><tr><td><a name="details-34-ksh"></a><b>ksh</b></td><td>34 <a href="assign.test.html#L538">readonly $x where x='b c'</a><br/><br/>
<span class="assertion">
[ksh status]
Expected 1
Got      2
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[4]: read-only: a
</pre></td></tr><tr><td><a name="details-34-toysh"></a><b>toysh</b></td><td>34 <a href="assign.test.html#L538">readonly $x where x='b c'</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected u''
Got      'status=0\nstatus=0\nstatus=0\n'
</span><br/>
<span class="assertion">
[toysh status]
Expected 1
Got      0
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>status=0
status=0
status=0
</pre><i>stderr:</i> <br/>
<pre>sh: readonly: No such file or directory
</pre></td></tr><tr><td><a name="details-34-sush"></a><b>sush</b></td><td>34 <a href="assign.test.html#L538">readonly $x where x='b c'</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected u''
Got      'status=1\nstatus=1\nstatus=1\n'
</span><br/>
<span class="assertion">
[sush status]
Expected 1
Got      0
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>status=1
status=1
status=1
</pre><i>stderr:</i> <br/>
<pre>/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 4: a: readonly variable
/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 6: b: readonly variable
/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 8: c: readonly variable
</pre></td></tr><tr><td><a name="details-34-brush"></a><b>brush</b></td><td>34 <a href="assign.test.html#L538">readonly $x where x='b c'</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected u''
Got      'status=1\nstatus=1\nstatus=1\n'
</span><br/>
<span class="assertion">
[brush status]
Expected 1
Got      0
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>status=1
status=1
status=1
</pre><i>stderr:</i> <br/>
<pre>[31merror:[39m cannot mutate readonly variable
[31merror:[39m cannot mutate readonly variable
[31merror:[39m cannot mutate readonly variable
</pre></td></tr><tr><td><a name="details-35-dash"></a><b>dash</b></td><td>35 <a href="assign.test.html#L563">readonly a=(1 2) no_value c=(3 4) makes 'no_value' readonly</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>dash: 1: Syntax error: "(" unexpected
</pre></td></tr><tr><td><a name="details-35-ash"></a><b>ash</b></td><td>35 <a href="assign.test.html#L563">readonly a=(1 2) no_value c=(3 4) makes 'no_value' readonly</a><br/><br/>
<span class="assertion">
[ash status]
Expected 1
Got      2
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>ash: syntax error: unexpected "("
</pre></td></tr><tr><td><a name="details-35-toysh"></a><b>toysh</b></td><td>35 <a href="assign.test.html#L563">readonly a=(1 2) no_value c=(3 4) makes 'no_value' readonly</a><br/><br/>
<span class="assertion">
[toysh status]
Expected 1
Got      2
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>main: line 1: sh: syntax error: )
</pre></td></tr><tr><td><a name="details-37-dash"></a><b>dash</b></td><td>37 <a href="assign.test.html#L578">local a=loc $var c=loc</a><br/><br/>
<i>stdout:</i> <br/>
<pre>global
['loc', 'global', 'loc']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-38-zsh"></a><b>zsh</b></td><td>38 <a href="assign.test.html#L596">redirect after assignment builtin (eval redirects after evaluating arguments)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>done
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-38-sush"></a><b>sush</b></td><td>38 <a href="assign.test.html#L596">redirect after assignment builtin (eval redirects after evaluating arguments)</a><br/><br/>
<span class="assertion">
[sush stderr]
Expected 'STDERR\n'
Got      ''
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>done
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-40-bash"></a><b>bash</b></td><td>40 <a href="assign.test.html#L620">redirect after bare assignment</a><br/><br/>
<i>stdout:</i> <br/>
<pre>done
</pre><i>stderr:</i> <br/>
<pre>STDERR
</pre></td></tr><tr><td><a name="details-40-sush"></a><b>sush</b></td><td>40 <a href="assign.test.html#L620">redirect after bare assignment</a><br/><br/>
<span class="assertion">
[sush stderr]
Expected u''
Got      'STDERR\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>done
</pre><i>stderr:</i> <br/>
<pre>STDERR
</pre></td></tr><tr><td><a name="details-41-bash"></a><b>bash</b></td><td>41 <a href="assign.test.html#L631">redirect after declare -p</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>declare -- foo="bar"
</pre></td></tr><tr><td><a name="details-41-dash"></a><b>dash</b></td><td>41 <a href="assign.test.html#L631">redirect after declare -p</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-41-ash"></a><b>ash</b></td><td>41 <a href="assign.test.html#L631">redirect after declare -p</a><br/><br/>
<span class="assertion">
[ash stderr]
Expected 'typeset foo=bar\n'
Got      'ash: typeset: not found\n'
</span><br/>
<span class="assertion">
[ash status]
Expected 0
Got      127
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>ash: typeset: not found
</pre></td></tr><tr><td><a name="details-41-toysh"></a><b>toysh</b></td><td>41 <a href="assign.test.html#L631">redirect after declare -p</a><br/><br/>
<span class="assertion">
[toysh stderr]
Expected 'typeset foo=bar\n'
Got      'munmap_chunk(): invalid pointer\n'
</span><br/>
<span class="assertion">
[toysh status]
Expected 0
Got      -6
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-41-sush"></a><b>sush</b></td><td>41 <a href="assign.test.html#L631">redirect after declare -p</a><br/><br/>
<span class="assertion">
[sush stderr]
Expected 'typeset foo=bar\n'
Got      'declare -- foo="bar"\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>declare -- foo="bar"
</pre></td></tr><tr><td><a name="details-41-brush"></a><b>brush</b></td><td>41 <a href="assign.test.html#L631">redirect after declare -p</a><br/><br/>
<span class="assertion">
[brush stderr]
Expected 'typeset foo=bar\n'
Got      'declare -- foo="bar"\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>declare -- foo="bar"
</pre></td></tr><tr><td><a name="details-41-osh"></a><b>osh</b></td><td>41 <a href="assign.test.html#L631">redirect after declare -p</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>declare -- foo=bar
</pre></td></tr><tr><td><a name="details-42-dash"></a><b>dash</b></td><td>42 <a href="assign.test.html#L651">declare -a arr does not remove existing arrays (OSH regression)</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-42-ash"></a><b>ash</b></td><td>42 <a href="assign.test.html#L651">declare -a arr does not remove existing arrays (OSH regression)</a><br/><br/>
<span class="assertion">
[ash stdout]
Expected 'arr:3\n'
Got      ''
</span><br/>
<span class="assertion">
[ash status]
Expected 0
Got      2
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>ash: declare: not found
ash: syntax error: unexpected "("
</pre></td></tr><tr><td><a name="details-42-toysh"></a><b>toysh</b></td><td>42 <a href="assign.test.html#L651">declare -a arr does not remove existing arrays (OSH regression)</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'arr:3\n'
Got      ''
</span><br/>
<span class="assertion">
[toysh status]
Expected 0
Got      -6
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-43-dash"></a><b>dash</b></td><td>43 <a href="assign.test.html#L664">declare -A dict does not remove existing arrays (OSH regression)</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-43-ash"></a><b>ash</b></td><td>43 <a href="assign.test.html#L664">declare -A dict does not remove existing arrays (OSH regression)</a><br/><br/>
<span class="assertion">
[ash stdout]
Expected 'dict:3\n'
Got      ''
</span><br/>
<span class="assertion">
[ash status]
Expected 0
Got      2
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>ash: declare: not found
ash: dict[foo]=hello: not found
ash: dict[bar]=oil: not found
ash: dict[baz]=world: not found
ash: declare: not found
ash: syntax error: bad substitution
</pre></td></tr><tr><td><a name="details-43-mksh"></a><b>mksh</b></td><td>43 <a href="assign.test.html#L664">declare -A dict does not remove existing arrays (OSH regression)</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-43-ksh"></a><b>ksh</b></td><td>43 <a href="assign.test.html#L664">declare -A dict does not remove existing arrays (OSH regression)</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected 'dict:3\n'
Got      ''
</span><br/>
<span class="assertion">
[ksh status]
Expected 0
Got      1
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[3]: declare: inaccessible or not found
W: ksh: &lt;stdin&gt;[4]: 'foo': multi-character character constant
</pre></td></tr><tr><td><a name="details-43-toysh"></a><b>toysh</b></td><td>43 <a href="assign.test.html#L664">declare -A dict does not remove existing arrays (OSH regression)</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'dict:3\n'
Got      ''
</span><br/>
<span class="assertion">
[toysh status]
Expected 0
Got      -6
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-44-dash"></a><b>dash</b></td><td>44 <a href="assign.test.html#L679">"readonly -a arr" and "readonly -A dict" should not not remove existing arrays</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-44-ash"></a><b>ash</b></td><td>44 <a href="assign.test.html#L679">"readonly -a arr" and "readonly -A dict" should not not remove existing arrays</a><br/><br/>
<span class="assertion">
[ash stdout]
Expected 'arr:3\ndict:3\n'
Got      ''
</span><br/>
<span class="assertion">
[ash status]
Expected 0
Got      2
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>ash: declare: not found
ash: syntax error: unexpected "("
</pre></td></tr><tr><td><a name="details-44-mksh"></a><b>mksh</b></td><td>44 <a href="assign.test.html#L679">"readonly -a arr" and "readonly -A dict" should not not remove existing arrays</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-44-ksh"></a><b>ksh</b></td><td>44 <a href="assign.test.html#L679">"readonly -a arr" and "readonly -A dict" should not not remove existing arrays</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected 'arr:3\ndict:3\n'
Got      ''
</span><br/>
<span class="assertion">
[ksh status]
Expected 0
Got      1
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[3]: declare: inaccessible or not found
E: ksh: &lt;stdin&gt;[5]: declare: inaccessible or not found
W: ksh: &lt;stdin&gt;[6]: 'foo': multi-character character constant
</pre></td></tr><tr><td><a name="details-44-toysh"></a><b>toysh</b></td><td>44 <a href="assign.test.html#L679">"readonly -a arr" and "readonly -A dict" should not not remove existing arrays</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'arr:3\ndict:3\n'
Got      ''
</span><br/>
<span class="assertion">
[toysh status]
Expected 0
Got      -6
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-45-bash"></a><b>bash</b></td><td>45 <a href="assign.test.html#L702">"declare -a arr" and "readonly -a a" creates an empty array (OSH)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>declare -a arr1
declare -r arr2
declare -A dict1
declare -r dict2
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-45-dash"></a><b>dash</b></td><td>45 <a href="assign.test.html#L702">"declare -a arr" and "readonly -a a" creates an empty array (OSH)</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-45-ash"></a><b>ash</b></td><td>45 <a href="assign.test.html#L702">"declare -a arr" and "readonly -a a" creates an empty array (OSH)</a><br/><br/>
<span class="assertion">
[ash stdout]
Expected 'declare -a arr1=()\ndeclare -ra arr2=()\ndeclare -A dict1=()\ndeclare -rA dict2=()\n'
Got      ''
</span><br/>
<span class="assertion">
[ash status]
Expected 0
Got      2
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>ash: declare: not found
ash: readonly: line 4: illegal option -a
</pre></td></tr><tr><td><a name="details-45-zsh"></a><b>zsh</b></td><td>45 <a href="assign.test.html#L702">"declare -a arr" and "readonly -a a" creates an empty array (OSH)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>typeset -a arr1
arr1=(  )
typeset -a arr2
arr2=(  )
typeset -ar arr2
typeset -A dict1
dict1=( )
typeset -a dict2
dict2=( )
typeset -Ar dict2
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-45-mksh"></a><b>mksh</b></td><td>45 <a href="assign.test.html#L702">"declare -a arr" and "readonly -a a" creates an empty array (OSH)</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-45-ksh"></a><b>ksh</b></td><td>45 <a href="assign.test.html#L702">"declare -a arr" and "readonly -a a" creates an empty array (OSH)</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected 'declare -a arr1=()\ndeclare -ra arr2=()\ndeclare -A dict1=()\ndeclare -rA dict2=()\n'
Got      ''
</span><br/>
<span class="assertion">
[ksh status]
Expected 0
Got      1
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[3]: declare: inaccessible or not found
E: ksh: &lt;stdin&gt;[4]: readonly: -a: unknown option
</pre></td></tr><tr><td><a name="details-45-toysh"></a><b>toysh</b></td><td>45 <a href="assign.test.html#L702">"declare -a arr" and "readonly -a a" creates an empty array (OSH)</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'declare -a arr1=()\ndeclare -ra arr2=()\ndeclare -A dict1=()\ndeclare -rA dict2=()\n'
Got      ''
</span><br/>
<span class="assertion">
[toysh status]
Expected 0
Got      -6
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-45-sush"></a><b>sush</b></td><td>45 <a href="assign.test.html#L702">"declare -a arr" and "readonly -a a" creates an empty array (OSH)</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected 'declare -a arr1=()\ndeclare -ra arr2=()\ndeclare -A dict1=()\ndeclare -rA dict2=()\n'
Got      'declare -a arr1\ndeclare -ar arr2\ndeclare -A dict1\ndeclare -Ar dict2\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -a arr1
declare -ar arr2
declare -A dict1
declare -Ar dict2
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-45-brush"></a><b>brush</b></td><td>45 <a href="assign.test.html#L702">"declare -a arr" and "readonly -a a" creates an empty array (OSH)</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected 'declare -a arr1=()\ndeclare -ra arr2=()\ndeclare -A dict1=()\ndeclare -rA dict2=()\n'
Got      'declare -a arr1\ndeclare -ar arr2\ndeclare -A dict1\ndeclare -Ar dict2\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -a arr1
declare -ar arr2
declare -A dict1
declare -Ar dict2
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-46-bash"></a><b>bash</b></td><td>46 <a href="assign.test.html#L738">"var d = {}; declare -p d" does not print anything (OSH)</a><br/><br/>
<span class="assertion">
[bash status]
Expected 99
Got      1
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>bash: line 4: var: command not found
bash: line 5: declare: d: not found
</pre></td></tr><tr><td><a name="details-46-dash"></a><b>dash</b></td><td>46 <a href="assign.test.html#L738">"var d = {}; declare -p d" does not print anything (OSH)</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-46-ash"></a><b>ash</b></td><td>46 <a href="assign.test.html#L738">"var d = {}; declare -p d" does not print anything (OSH)</a><br/><br/>
<span class="assertion">
[ash status]
Expected 1
Got      127
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>ash: var: not found
ash: declare: not found
</pre></td></tr><tr><td><a name="details-46-zsh"></a><b>zsh</b></td><td>46 <a href="assign.test.html#L738">"var d = {}; declare -p d" does not print anything (OSH)</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-46-mksh"></a><b>mksh</b></td><td>46 <a href="assign.test.html#L738">"var d = {}; declare -p d" does not print anything (OSH)</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-46-ksh"></a><b>ksh</b></td><td>46 <a href="assign.test.html#L738">"var d = {}; declare -p d" does not print anything (OSH)</a><br/><br/>
<span class="assertion">
[ksh status]
Expected 1
Got      127
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[4]: var: inaccessible or not found
E: ksh: &lt;stdin&gt;[5]: declare: inaccessible or not found
</pre></td></tr><tr><td><a name="details-46-toysh"></a><b>toysh</b></td><td>46 <a href="assign.test.html#L738">"var d = {}; declare -p d" does not print anything (OSH)</a><br/><br/>
<span class="assertion">
[toysh status]
Expected 1
Got      -6
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-47-dash"></a><b>dash</b></td><td>47 <a href="assign.test.html#L751">readonly array should not be modified by a+=(1)</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-47-ash"></a><b>ash</b></td><td>47 <a href="assign.test.html#L751">readonly array should not be modified by a+=(1)</a><br/><br/>
<span class="assertion">
[ash stdout]
Expected "['1', '2', '3']\n['1', '2', '3']\n"
Got      ''
</span><br/>
<span class="assertion">
[ash status]
Expected 0
Got      2
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>ash: syntax error: unexpected "("
</pre></td></tr><tr><td><a name="details-47-mksh"></a><b>mksh</b></td><td>47 <a href="assign.test.html#L751">readonly array should not be modified by a+=(1)</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>mksh: &lt;stdin&gt;[4]: readonly: -a: unknown option
</pre></td></tr><tr><td><a name="details-47-ksh"></a><b>ksh</b></td><td>47 <a href="assign.test.html#L751">readonly array should not be modified by a+=(1)</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected "['1', '2', '3']\n['1', '2', '3']\n"
Got      ''
</span><br/>
<span class="assertion">
[ksh status]
Expected 0
Got      1
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[4]: readonly: -a: unknown option
</pre></td></tr><tr><td><a name="details-47-toysh"></a><b>toysh</b></td><td>47 <a href="assign.test.html#L751">readonly array should not be modified by a+=(1)</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected "['1', '2', '3']\n['1', '2', '3']\n"
Got      ''
</span><br/>
<span class="assertion">
[toysh status]
Expected 0
Got      -6
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr></table></body></html>