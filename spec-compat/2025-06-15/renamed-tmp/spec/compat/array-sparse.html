<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>array-sparse: spec test case results</title>
<link rel="stylesheet" type="text/css" href="../../../web/base.css" />
<link rel="stylesheet" type="text/css" href="../../../web/spec-tests.css" />
  </head>
  <body class="width60">
    <p id="home-link">
      <a href=".">spec test index</a>
      /
      <a href="/">oils.pub</a>
    </p>
    <h1>Results for array-sparse.test.sh</h1>
    <table>
    
<thead>
  <tr class="table-header">
  <td>status</td><td>bash</td><td>mksh</td><td>ksh</td><td>toysh</td><td>sush</td><td>brush</td><td>osh</td><td></td>
  </tr>
</thead>
<tr><td class="pass">pass</td> <td>21</td><td>6</td><td>7</td><td>0</td><td>8</td><td>15</td><td>38</td><td></td></tr>
<tr><td class="ok">ok</td> <td>11</td><td>5</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td></td></tr>
<tr><td class="n-i">N-I</td> <td>7</td><td>29</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td></td></tr>
<tr><td class="bug">BUG</td> <td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td></td></tr>
<tr><td class="fail">FAIL</td> <td>0</td><td>0</td><td>33</td><td>40</td><td>32</td><td>25</td><td>2</td><td></td></tr>
<tr><td>total</td><td>40</td><td>40</td><td>40</td><td>40</td><td>40</td><td>40</td><td>40</td><td></td></tr>
<tr><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td><td style="height: 2em"></td></tr>

<thead>
  <tr class="table-header">
  <td>case</td><td>bash</td><td>mksh</td><td>ksh</td><td>toysh</td><td>sush</td><td>brush</td><td>osh</td><td class="case-desc">description</td>
  </tr>
</thead>
<tr><td>  0</td><td class="n-i">N-I</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L4">Performance demo</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-0-bash">details</a></td><td class="details-row"><a href="#details-0-mksh">details</a></td><td class="details-row"><a href="#details-0-ksh">details</a></td><td class="details-row"><a href="#details-0-toysh">details</a></td><td class="details-row"><a href="#details-0-sush">details</a></td><td class="details-row"><a href="#details-0-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td>  1</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L67">test length</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-1-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td>  2</td><td class="ok">ok</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L84">test "declare -p sp"</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-2-bash">details</a></td><td class="details-row"><a href="#details-2-mksh">details</a></td><td class="details-row"><a href="#details-2-ksh">details</a></td><td class="details-row"><a href="#details-2-toysh">details</a></td><td class="details-row"><a href="#details-2-sush">details</a></td><td class="details-row"><a href="#details-2-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td>  3</td><td class="pass">pass</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L129">+=</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-3-mksh">details</a></td><td class="details-row"><a href="#details-3-ksh">details</a></td><td class="details-row"><a href="#details-3-toysh">details</a></td><td class="details-row"><a href="#details-3-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td>  4</td><td class="pass">pass</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L158">a[i]=v</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-4-mksh">details</a></td><td class="details-row"><a href="#details-4-ksh">details</a></td><td class="details-row"><a href="#details-4-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td>  5</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L187">Negative index with a[i]=v</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-5-mksh">details</a></td><td class="details-row"><a href="#details-5-ksh">details</a></td><td class="details-row"><a href="#details-5-toysh">details</a></td><td class="details-row"><a href="#details-5-sush">details</a></td><td class="details-row"><a href="#details-5-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td>  6</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="case-desc"><a href="array-sparse.test.html#L208">a[i]=v with BigInt</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-6-mksh">details</a></td><td class="details-row"></td><td class="details-row"><a href="#details-6-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-6-osh">details</a></td><td class="details-row"></td></tr>
<tr><td>  7</td><td class="ok">ok</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L234">Negative out-of-bound index with a[i]=v (1/2)</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-7-bash">details</a></td><td class="details-row"><a href="#details-7-mksh">details</a></td><td class="details-row"><a href="#details-7-ksh">details</a></td><td class="details-row"><a href="#details-7-toysh">details</a></td><td class="details-row"><a href="#details-7-sush">details</a></td><td class="details-row"><a href="#details-7-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td>  8</td><td class="ok">ok</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L263">Negative out-of-bound index with a[i]=v (2/2)</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-8-bash">details</a></td><td class="details-row"><a href="#details-8-mksh">details</a></td><td class="details-row"><a href="#details-8-ksh">details</a></td><td class="details-row"><a href="#details-8-toysh">details</a></td><td class="details-row"><a href="#details-8-sush">details</a></td><td class="details-row"><a href="#details-8-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td>  9</td><td class="pass">pass</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L293">xtrace a+=()</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-9-mksh">details</a></td><td class="details-row"><a href="#details-9-ksh">details</a></td><td class="details-row"><a href="#details-9-toysh">details</a></td><td class="details-row"><a href="#details-9-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 10</td><td class="ok">ok</td>	<td class="ok">ok</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L309">unset -v a[i]</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-10-bash">details</a></td><td class="details-row"><a href="#details-10-mksh">details</a></td><td class="details-row"><a href="#details-10-ksh">details</a></td><td class="details-row"><a href="#details-10-toysh">details</a></td><td class="details-row"><a href="#details-10-sush">details</a></td><td class="details-row"><a href="#details-10-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 11</td><td class="ok">ok</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L373">unset -v a[i] with out-of-bound negative index</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-11-bash">details</a></td><td class="details-row"><a href="#details-11-mksh">details</a></td><td class="details-row"><a href="#details-11-ksh">details</a></td><td class="details-row"><a href="#details-11-toysh">details</a></td><td class="details-row"><a href="#details-11-sush">details</a></td><td class="details-row"><a href="#details-11-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 12</td><td class="ok">ok</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L403">unset -v a[i] for max index</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-12-bash">details</a></td><td class="details-row"><a href="#details-12-mksh">details</a></td><td class="details-row"><a href="#details-12-ksh">details</a></td><td class="details-row"><a href="#details-12-toysh">details</a></td><td class="details-row"><a href="#details-12-sush">details</a></td><td class="details-row"><a href="#details-12-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 13</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L428">[[ -v a[i] ]]</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-13-mksh">details</a></td><td class="details-row"><a href="#details-13-ksh">details</a></td><td class="details-row"><a href="#details-13-toysh">details</a></td><td class="details-row"><a href="#details-13-sush">details</a></td><td class="details-row"><a href="#details-13-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 14</td><td class="ok">ok</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L477">[[ -v a[i] ]] with invalid negative index</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-14-bash">details</a></td><td class="details-row"><a href="#details-14-mksh">details</a></td><td class="details-row"><a href="#details-14-ksh">details</a></td><td class="details-row"><a href="#details-14-toysh">details</a></td><td class="details-row"><a href="#details-14-sush">details</a></td><td class="details-row"><a href="#details-14-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 15</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L520">((sp[i])) and ((sp[i]++))</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-15-toysh">details</a></td><td class="details-row"><a href="#details-15-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 16</td><td class="ok">ok</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L566">((sp[i])) and ((sp[i]++)) with invalid negative index</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-16-bash">details</a></td><td class="details-row"><a href="#details-16-mksh">details</a></td><td class="details-row"><a href="#details-16-ksh">details</a></td><td class="details-row"><a href="#details-16-toysh">details</a></td><td class="details-row"><a href="#details-16-sush">details</a></td><td class="details-row"><a href="#details-16-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 17</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L593">${sp[i]}</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-17-mksh">details</a></td><td class="details-row"><a href="#details-17-ksh">details</a></td><td class="details-row"><a href="#details-17-toysh">details</a></td><td class="details-row"><a href="#details-17-sush">details</a></td><td class="details-row"><a href="#details-17-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 18</td><td class="ok">ok</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L632">${sp[i]} with negative invalid index</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-18-bash">details</a></td><td class="details-row"><a href="#details-18-mksh">details</a></td><td class="details-row"><a href="#details-18-ksh">details</a></td><td class="details-row"><a href="#details-18-toysh">details</a></td><td class="details-row"><a href="#details-18-sush">details</a></td><td class="details-row"><a href="#details-18-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 19</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L673">${a[@]:offset:length}</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-19-mksh">details</a></td><td class="details-row"><a href="#details-19-ksh">details</a></td><td class="details-row"><a href="#details-19-toysh">details</a></td><td class="details-row"><a href="#details-19-sush">details</a></td><td class="details-row"><a href="#details-19-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 20</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L745">${@:offset:length}</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-20-mksh">details</a></td><td class="details-row"><a href="#details-20-ksh">details</a></td><td class="details-row"><a href="#details-20-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 21</td><td class="bug">BUG</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="case-desc"><a href="array-sparse.test.html#L791">${a[@]:BigInt}</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-21-bash">details</a></td><td class="details-row"><a href="#details-21-mksh">details</a></td><td class="details-row"><a href="#details-21-ksh">details</a></td><td class="details-row"><a href="#details-21-toysh">details</a></td><td class="details-row"></td><td class="details-row"><a href="#details-21-brush">details</a></td><td class="details-row"><a href="#details-21-osh">details</a></td><td class="details-row"></td></tr>
<tr><td> 22</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L846">${a[@]}</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-22-toysh">details</a></td><td class="details-row"><a href="#details-22-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 23</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L859">${a[@]#...}</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-23-mksh">details</a></td><td class="details-row"><a href="#details-23-ksh">details</a></td><td class="details-row"><a href="#details-23-toysh">details</a></td><td class="details-row"><a href="#details-23-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 24</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L883">${a[@]/pat/rep}</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-24-mksh">details</a></td><td class="details-row"><a href="#details-24-ksh">details</a></td><td class="details-row"><a href="#details-24-toysh">details</a></td><td class="details-row"><a href="#details-24-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 25</td><td class="ok">ok</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L915">${a[@]@P}, ${a[@]@Q}, and ${a[@]@a}</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-25-bash">details</a></td><td class="details-row"><a href="#details-25-mksh">details</a></td><td class="details-row"><a href="#details-25-ksh">details</a></td><td class="details-row"><a href="#details-25-toysh">details</a></td><td class="details-row"><a href="#details-25-sush">details</a></td><td class="details-row"><a href="#details-25-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 26</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L950">${a[@]-unset}, ${a[@]:-empty}, etc.</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-26-toysh">details</a></td><td class="details-row"><a href="#details-26-sush">details</a></td><td class="details-row"><a href="#details-26-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 27</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L972">${a-}</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-27-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 28</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L988">${!a[0]}</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-28-mksh">details</a></td><td class="details-row"><a href="#details-28-ksh">details</a></td><td class="details-row"><a href="#details-28-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 29</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L1004">${!a[@]}</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-29-mksh">details</a></td><td class="details-row"><a href="#details-29-ksh">details</a></td><td class="details-row"><a href="#details-29-toysh">details</a></td><td class="details-row"><a href="#details-29-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 30</td><td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L1020">"${a[*]}"</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-30-toysh">details</a></td><td class="details-row"><a href="#details-30-sush">details</a></td><td class="details-row"><a href="#details-30-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 31</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L1037">compgen -F _set_COMPREPLY</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-31-mksh">details</a></td><td class="details-row"><a href="#details-31-ksh">details</a></td><td class="details-row"><a href="#details-31-toysh">details</a></td><td class="details-row"><a href="#details-31-sush">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 32</td><td class="n-i">N-I</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L1061">compadjust</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-32-bash">details</a></td><td class="details-row"><a href="#details-32-mksh">details</a></td><td class="details-row"><a href="#details-32-ksh">details</a></td><td class="details-row"><a href="#details-32-toysh">details</a></td><td class="details-row"><a href="#details-32-sush">details</a></td><td class="details-row"><a href="#details-32-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 33</td><td class="n-i">N-I</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L1078">(YSH) @[sp] and @sp</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-33-bash">details</a></td><td class="details-row"><a href="#details-33-mksh">details</a></td><td class="details-row"><a href="#details-33-ksh">details</a></td><td class="details-row"><a href="#details-33-toysh">details</a></td><td class="details-row"><a href="#details-33-sush">details</a></td><td class="details-row"><a href="#details-33-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 34</td><td class="n-i">N-I</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L1096">(YSH) $[a1 === a2]</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-34-bash">details</a></td><td class="details-row"><a href="#details-34-mksh">details</a></td><td class="details-row"><a href="#details-34-ksh">details</a></td><td class="details-row"><a href="#details-34-toysh">details</a></td><td class="details-row"><a href="#details-34-sush">details</a></td><td class="details-row"><a href="#details-34-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 35</td><td class="n-i">N-I</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L1129">(YSH) append v1 v2... (a)</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-35-bash">details</a></td><td class="details-row"><a href="#details-35-mksh">details</a></td><td class="details-row"><a href="#details-35-ksh">details</a></td><td class="details-row"><a href="#details-35-toysh">details</a></td><td class="details-row"><a href="#details-35-sush">details</a></td><td class="details-row"><a href="#details-35-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 36</td><td class="n-i">N-I</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L1145">(YSH) $[bool(a)]</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-36-bash">details</a></td><td class="details-row"><a href="#details-36-mksh">details</a></td><td class="details-row"><a href="#details-36-ksh">details</a></td><td class="details-row"><a href="#details-36-toysh">details</a></td><td class="details-row"><a href="#details-36-sush">details</a></td><td class="details-row"><a href="#details-36-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 37</td><td class="n-i">N-I</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L1170">crash dump</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-37-bash">details</a></td><td class="details-row"><a href="#details-37-mksh">details</a></td><td class="details-row"><a href="#details-37-ksh">details</a></td><td class="details-row"><a href="#details-37-toysh">details</a></td><td class="details-row"><a href="#details-37-sush">details</a></td><td class="details-row"><a href="#details-37-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 38</td><td class="ok">ok</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L1194">Regression: a[-1]=1</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"><a href="#details-38-bash">details</a></td><td class="details-row"><a href="#details-38-mksh">details</a></td><td class="details-row"><a href="#details-38-ksh">details</a></td><td class="details-row"><a href="#details-38-toysh">details</a></td><td class="details-row"><a href="#details-38-sush">details</a></td><td class="details-row"><a href="#details-38-brush">details</a></td><td class="details-row"></td><td class="details-row"></td></tr>
<tr><td> 39</td><td class="pass">pass</td>	<td class="n-i">N-I</td>	<td class="fail">FAIL</td>	<td class="fail">FAIL</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="pass">pass</td>	<td class="case-desc"><a href="array-sparse.test.html#L1214">Initializing indexed array with ([index]=value)</a></td></tr>
<tr><td class="details-row"></td><td class="details-row"></td><td class="details-row"><a href="#details-39-mksh">details</a></td><td class="details-row"><a href="#details-39-ksh">details</a></td><td class="details-row"><a href="#details-39-toysh">details</a></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td><td class="details-row"></td></tr>
</table>
<pre>95 passed, 16 OK, 36 not implemented, 1 BUG, 132 failed, 0 timeouts, 0 cases skipped
2 failed under osh
</pre><h2>Details on runs that didn't PASS</h2><table id="details"><tr><td><a name="details-0-bash"></a><b>bash</b></td><td>0 <a href="array-sparse.test.html#L4">Performance demo</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-0-mksh"></a><b>mksh</b></td><td>0 <a href="array-sparse.test.html#L4">Performance demo</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-0-ksh"></a><b>ksh</b></td><td>0 <a href="array-sparse.test.html#L4">Performance demo</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected 'BashArray\nlen: 6\nsubst: foo 25 26 27 bar sparse\nkeys: 0 1 2 3 4 10\nslice: 26 27 bar\nget0: set0\nget1: 25\n---\nappend\nsubst: set0 25 26 27 bar sparse x y\nkeys: 0 1 2 3 4 10 11 12\n---\nunset\nsubst: set0 25 26 27 bar sparse y\nkeys: 0 1 2 3 4 10 12\n'
Got      ''
</span><br/>
<span class="assertion">[ksh status] Expected 0, got 1</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[8]: syntax error: unexpected '('
</pre></td></tr><tr><td><a name="details-0-toysh"></a><b>toysh</b></td><td>0 <a href="array-sparse.test.html#L4">Performance demo</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'BashArray\nlen: 6\nsubst: foo 25 26 27 bar sparse\nkeys: 0 1 2 3 4 10\nslice: 26 27 bar\nget0: set0\nget1: 25\n---\nappend\nsubst: set0 25 26 27 bar sparse x y\nkeys: 0 1 2 3 4 10 11 12\n---\nunset\nsubst: set0 25 26 27 bar sparse y\nkeys: 0 1 2 3 4 10 12\n'
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-0-sush"></a><b>sush</b></td><td>0 <a href="array-sparse.test.html#L4">Performance demo</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected 'BashArray\nlen: 6\nsubst: foo 25 26 27 bar sparse\nkeys: 0 1 2 3 4 10\nslice: 26 27 bar\nget0: set0\nget1: 25\n---\nappend\nsubst: set0 25 26 27 bar sparse x y\nkeys: 0 1 2 3 4 10 11 12\n---\nunset\nsubst: set0 25 26 27 bar sparse y\nkeys: 0 1 2 3 4 10 12\n'
Got      'len: 6\nsubst: foo 25 26 27 bar sparse\nkeys: 0 1 2 3 4 10\nslice: 26 27 bar\nget0: set0\nget1: 25\n---\nappend\nsubst: set0 25 26 27 bar sparse x y\nkeys: 0 1 2 3 4 5 6 7\n---\nunset\nsubst: set0 25 26 27 bar sparse x y\nkeys: 0 1 2 3 4 5 6 7\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>len: 6
subst: foo 25 26 27 bar sparse
keys: 0 1 2 3 4 10
slice: 26 27 bar
get0: set0
get1: 25
---
append
subst: set0 25 26 27 bar sparse x y
keys: 0 1 2 3 4 5 6 7
---
unset
subst: set0 25 26 27 bar sparse x y
keys: 0 1 2 3 4 5 6 7
</pre><i>stderr:</i> <br/>
<pre>/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 9: Unexpected token: (sp)]

/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 13: shopt: ysh:upgrade: not supported yet
</pre></td></tr><tr><td><a name="details-0-brush"></a><b>brush</b></td><td>0 <a href="array-sparse.test.html#L4">Performance demo</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected 'BashArray\nlen: 6\nsubst: foo 25 26 27 bar sparse\nkeys: 0 1 2 3 4 10\nslice: 26 27 bar\nget0: set0\nget1: 25\n---\nappend\nsubst: set0 25 26 27 bar sparse x y\nkeys: 0 1 2 3 4 10 11 12\n---\nunset\nsubst: set0 25 26 27 bar sparse y\nkeys: 0 1 2 3 4 10 12\n'
Got      'len: 6\nsubst: foo 25 26 27 bar sparse\nkeys: 0 1 2 3 4 10\nslice: 26 27 bar\nget0: set0\nget1: 25\n---\nappend\nsubst: set0 25 26 27 bar sparse x y\nkeys: 0 1 2 3 4 10 11 12\n---\nunset\nsubst: set0 25 26 27 bar sparse y\nkeys: 0 1 2 3 4 10 12\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>len: 6
subst: foo 25 26 27 bar sparse
keys: 0 1 2 3 4 10
slice: 26 27 bar
get0: set0
get1: 25
---
append
subst: set0 25 26 27 bar sparse x y
keys: 0 1 2 3 4 10 11 12
---
unset
subst: set0 25 26 27 bar sparse y
keys: 0 1 2 3 4 10 12
</pre><i>stderr:</i> <br/>
<pre>[31mERROR[0m main: syntax error near token `]' (line 1 col 16)
shopt: ysh:upgrade: invalid shell option name
</pre></td></tr><tr><td><a name="details-1-toysh"></a><b>toysh</b></td><td>1 <a href="array-sparse.test.html#L67">test length</a><br/><br/>
<span class="assertion">[toysh stdout] Expected 'len=4\nlen=5\n', got ''</span><br/>
<span class="assertion">[toysh status] Expected 0, got 2</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>main: line 1: sh: syntax error: x
</pre></td></tr><tr><td><a name="details-2-bash"></a><b>bash</b></td><td>2 <a href="array-sparse.test.html#L84">test "declare -p sp"</a><br/><br/>
<i>stdout:</i> <br/>
<pre>declare -a a0=()
declare -a a1=([0]="1")
declare -a a2=([0]="1" [1]="2")
declare -a a=([0]="x" [1]="y" [2]="z" [3]="w" [500]="100" [1000]="100")
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-2-mksh"></a><b>mksh</b></td><td>2 <a href="array-sparse.test.html#L84">test "declare -p sp"</a><br/><br/>
<i>stdout:</i> <br/>
<pre>set -A a1
typeset a1[0]=1
set -A a2
typeset a2[0]=1
typeset a2[1]=2
set -A a
typeset a[0]=x
typeset a[1]=y
typeset a[2]=z
typeset a[3]=w
typeset a[500]=100
typeset a[1000]=100
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-2-ksh"></a><b>ksh</b></td><td>2 <a href="array-sparse.test.html#L84">test "declare -p sp"</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected 'declare -a a0=()\ndeclare -a a1=(1)\ndeclare -a a2=(1 2)\ndeclare -a a=([0]=x [1]=y [2]=z [3]=w [500]=100 [1000]=100)\n'
Got      ''
</span><br/>
<span class="assertion">[ksh status] Expected 0, got 127</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[14]: declare: inaccessible or not found
</pre></td></tr><tr><td><a name="details-2-toysh"></a><b>toysh</b></td><td>2 <a href="array-sparse.test.html#L84">test "declare -p sp"</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'declare -a a0=()\ndeclare -a a1=(1)\ndeclare -a a2=(1 2)\ndeclare -a a=([0]=x [1]=y [2]=z [3]=w [500]=100 [1000]=100)\n'
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got 2</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>main: line 1: sh: syntax error: a1=
</pre></td></tr><tr><td><a name="details-2-sush"></a><b>sush</b></td><td>2 <a href="array-sparse.test.html#L84">test "declare -p sp"</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected 'declare -a a0=()\ndeclare -a a1=(1)\ndeclare -a a2=(1 2)\ndeclare -a a=([0]=x [1]=y [2]=z [3]=w [500]=100 [1000]=100)\n'
Got      'declare -a a0\ndeclare -a a1=([0]="1")\ndeclare -a a2=([0]="1" [1]="2")\ndeclare -a a=([0]="x" [1]="y" [2]="z" [3]="w" [500]="100" [1000]="100")\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -a a0
declare -a a1=([0]="1")
declare -a a2=([0]="1" [1]="2")
declare -a a=([0]="x" [1]="y" [2]="z" [3]="w" [500]="100" [1000]="100")
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-2-brush"></a><b>brush</b></td><td>2 <a href="array-sparse.test.html#L84">test "declare -p sp"</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected 'declare -a a0=()\ndeclare -a a1=(1)\ndeclare -a a2=(1 2)\ndeclare -a a=([0]=x [1]=y [2]=z [3]=w [500]=100 [1000]=100)\n'
Got      'declare -a a0=()\ndeclare -a a1=([0]="1")\ndeclare -a a2=([0]="1" [1]="2")\ndeclare -a a=([0]="x" [1]="y" [2]="z" [3]="w" [500]="100" [1000]="100")\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -a a0=()
declare -a a1=([0]="1")
declare -a a2=([0]="1" [1]="2")
declare -a a=([0]="x" [1]="y" [2]="z" [3]="w" [500]="100" [1000]="100")
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-3-mksh"></a><b>mksh</b></td><td>3 <a href="array-sparse.test.html#L129">+=</a><br/><br/>
<i>stdout:</i> <br/>
<pre>set -A sp1
typeset sp1[10]=a
typeset sp1[20]=b
typeset sp1[99]=c
set -A sp1
typeset sp1[10]=a
typeset sp1[20]=b
typeset sp1[99]=c
typeset sp1[100]=1
typeset sp1[101]=2
typeset sp1[102]=3
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-3-ksh"></a><b>ksh</b></td><td>3 <a href="array-sparse.test.html#L129">+=</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected 'declare -a sp1=([10]=a [20]=b [99]=c)\ndeclare -a sp1=([10]=a [20]=b [99]=c [100]=1 [101]=2 [102]=3)\n'
Got      'set -A sp1\ntypeset sp1[10]=a\ntypeset sp1[20]=b\ntypeset sp1[99]=c\nset -A sp1\ntypeset sp1[10]=a\ntypeset sp1[20]=b\ntypeset sp1[99]=c\ntypeset sp1[100]=1\ntypeset sp1[101]=2\ntypeset sp1[102]=3\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>set -A sp1
typeset sp1[10]=a
typeset sp1[20]=b
typeset sp1[99]=c
set -A sp1
typeset sp1[10]=a
typeset sp1[20]=b
typeset sp1[99]=c
typeset sp1[100]=1
typeset sp1[101]=2
typeset sp1[102]=3
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-3-toysh"></a><b>toysh</b></td><td>3 <a href="array-sparse.test.html#L129">+=</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'declare -a sp1=([10]=a [20]=b [99]=c)\ndeclare -a sp1=([10]=a [20]=b [99]=c [100]=1 [101]=2 [102]=3)\n'
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got 2</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>sh: sp1[10]=a: No such file or directory
sh: sp1[20]=b: No such file or directory
sh: sp1[99]=c: No such file or directory
sh: typeset: No such file or directory
main: line 5: sh: syntax error: 1
</pre></td></tr><tr><td><a name="details-3-sush"></a><b>sush</b></td><td>3 <a href="array-sparse.test.html#L129">+=</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected 'declare -a sp1=([10]=a [20]=b [99]=c)\ndeclare -a sp1=([10]=a [20]=b [99]=c [100]=1 [101]=2 [102]=3)\n'
Got      'declare -a sp1=([10]=a [20]=b [99]=c)\ndeclare -a sp1=([0]=a [1]=b [2]=c [3]=1 [4]=2 [5]=3)\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -a sp1=([10]=a [20]=b [99]=c)
declare -a sp1=([0]=a [1]=b [2]=c [3]=1 [4]=2 [5]=3)
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-4-mksh"></a><b>mksh</b></td><td>4 <a href="array-sparse.test.html#L158">a[i]=v</a><br/><br/>
<i>stdout:</i> <br/>
<pre>set -A sp1
typeset sp1[10]=a
typeset sp1[20]=b
typeset sp1[30]=c
set -A sp1
typeset sp1[10]=X
typeset sp1[20]=b
typeset sp1[25]=Y
typeset sp1[30]=c
typeset sp1[90]=Z
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-4-ksh"></a><b>ksh</b></td><td>4 <a href="array-sparse.test.html#L158">a[i]=v</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected 'declare -a sp1=([10]=a [20]=b [30]=c)\ndeclare -a sp1=([10]=X [20]=b [25]=Y [30]=c [90]=Z)\n'
Got      'set -A sp1\ntypeset sp1[10]=a\ntypeset sp1[20]=b\ntypeset sp1[30]=c\nset -A sp1\ntypeset sp1[10]=X\ntypeset sp1[20]=b\ntypeset sp1[25]=Y\ntypeset sp1[30]=c\ntypeset sp1[90]=Z\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>set -A sp1
typeset sp1[10]=a
typeset sp1[20]=b
typeset sp1[30]=c
set -A sp1
typeset sp1[10]=X
typeset sp1[20]=b
typeset sp1[25]=Y
typeset sp1[30]=c
typeset sp1[90]=Z
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-4-toysh"></a><b>toysh</b></td><td>4 <a href="array-sparse.test.html#L158">a[i]=v</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'declare -a sp1=([10]=a [20]=b [30]=c)\ndeclare -a sp1=([10]=X [20]=b [25]=Y [30]=c [90]=Z)\n'
Got      ''
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>sh: sp1[10]=a: No such file or directory
sh: sp1[20]=b: No such file or directory
sh: sp1[30]=c: No such file or directory
sh: typeset: No such file or directory
sh: sp1[10]=X: No such file or directory
sh: sp1[25]=Y: No such file or directory
sh: sp1[90]=Z: No such file or directory
sh: typeset: No such file or directory
</pre></td></tr><tr><td><a name="details-5-mksh"></a><b>mksh</b></td><td>5 <a href="array-sparse.test.html#L187">Negative index with a[i]=v</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-5-ksh"></a><b>ksh</b></td><td>5 <a href="array-sparse.test.html#L187">Negative index with a[i]=v</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected 'declare -a sp1=([9]=x)\ndeclare -a sp1=([0]=D [2]=C [6]=B [9]=A)\n'
Got      'set -A sp1\ntypeset sp1[9]=x\nset -A sp1\ntypeset sp1[9]=x\ntypeset sp1[4294967286]=D\ntypeset sp1[4294967288]=C\ntypeset sp1[4294967292]=B\ntypeset sp1[4294967295]=A\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>set -A sp1
typeset sp1[9]=x
set -A sp1
typeset sp1[9]=x
typeset sp1[4294967286]=D
typeset sp1[4294967288]=C
typeset sp1[4294967292]=B
typeset sp1[4294967295]=A
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-5-toysh"></a><b>toysh</b></td><td>5 <a href="array-sparse.test.html#L187">Negative index with a[i]=v</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'declare -a sp1=([9]=x)\ndeclare -a sp1=([0]=D [2]=C [6]=B [9]=A)\n'
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-5-sush"></a><b>sush</b></td><td>5 <a href="array-sparse.test.html#L187">Negative index with a[i]=v</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected 'declare -a sp1=([9]=x)\ndeclare -a sp1=([0]=D [2]=C [6]=B [9]=A)\n'
Got      'declare -a sp1=([9]=x)\ndeclare -a sp1=([9]=x)\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -a sp1=([9]=x)
declare -a sp1=([9]=x)
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-5-brush"></a><b>brush</b></td><td>5 <a href="array-sparse.test.html#L187">Negative index with a[i]=v</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected 'declare -a sp1=([9]=x)\ndeclare -a sp1=([0]=D [2]=C [6]=B [9]=A)\n'
Got      'declare -a sp1=([9]=x)\ndeclare -a sp1=([0]=D [9]=x)\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -a sp1=([9]=x)
declare -a sp1=([0]=D [9]=x)
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-6-mksh"></a><b>mksh</b></td><td>6 <a href="array-sparse.test.html#L208">a[i]=v with BigInt</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-6-toysh"></a><b>toysh</b></td><td>6 <a href="array-sparse.test.html#L208">a[i]=v with BigInt</a><br/><br/>
<span class="assertion">[toysh stdout] Expected '3\n4\n5\n6\n', got ''</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-6-osh"></a><b>osh</b></td><td>6 <a href="array-sparse.test.html#L208">a[i]=v with BigInt</a><br/><br/>
<span class="assertion">[osh stdout] Expected '3\n4\n5\n6\n', got '3\n3\n4\n5\n'</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>3
3
4
5
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-7-bash"></a><b>bash</b></td><td>7 <a href="array-sparse.test.html#L234">Negative out-of-bound index with a[i]=v (1/2)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>declare -a sp1=([9]="x")
</pre><i>stderr:</i> <br/>
<pre>bash: line 4: sp1[-11]: bad array subscript
</pre></td></tr><tr><td><a name="details-7-mksh"></a><b>mksh</b></td><td>7 <a href="array-sparse.test.html#L234">Negative out-of-bound index with a[i]=v (1/2)</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-7-ksh"></a><b>ksh</b></td><td>7 <a href="array-sparse.test.html#L234">Negative out-of-bound index with a[i]=v (1/2)</a><br/><br/>
<span class="assertion">
[ksh stderr]
Expected '  sp1[-11]=E\n  ^~~~\n[ stdin ]:4: fatal: Index -11 is out of bounds for array of length 10\n'
Got      'E: ksh: &lt;stdin&gt;[5]: declare: inaccessible or not found\n'
</span><br/>
<span class="assertion">[ksh status] Expected 1, got 127</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[5]: declare: inaccessible or not found
</pre></td></tr><tr><td><a name="details-7-toysh"></a><b>toysh</b></td><td>7 <a href="array-sparse.test.html#L234">Negative out-of-bound index with a[i]=v (1/2)</a><br/><br/>
<span class="assertion">
[toysh stderr]
Expected '  sp1[-11]=E\n  ^~~~\n[ stdin ]:4: fatal: Index -11 is out of bounds for array of length 10\n'
Got      'munmap_chunk(): invalid pointer\n'
</span><br/>
<span class="assertion">[toysh status] Expected 1, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-7-sush"></a><b>sush</b></td><td>7 <a href="array-sparse.test.html#L234">Negative out-of-bound index with a[i]=v (1/2)</a><br/><br/>
<span class="assertion">[sush stdout] Expected '', got 'declare -a sp1=([9]="x")\n'</span><br/>
<span class="assertion">
[sush stderr]
Expected '  sp1[-11]=E\n  ^~~~\n[ stdin ]:4: fatal: Index -11 is out of bounds for array of length 10\n'
Got      ''
</span><br/>
<span class="assertion">[sush status] Expected 1, got 0</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -a sp1=([9]="x")
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-7-brush"></a><b>brush</b></td><td>7 <a href="array-sparse.test.html#L234">Negative out-of-bound index with a[i]=v (1/2)</a><br/><br/>
<span class="assertion">[brush stdout] Expected '', got 'declare -a sp1=([0]="E" [9]="x")\n'</span><br/>
<span class="assertion">
[brush stderr]
Expected '  sp1[-11]=E\n  ^~~~\n[ stdin ]:4: fatal: Index -11 is out of bounds for array of length 10\n'
Got      ''
</span><br/>
<span class="assertion">[brush status] Expected 1, got 0</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -a sp1=([0]="E" [9]="x")
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-8-bash"></a><b>bash</b></td><td>8 <a href="array-sparse.test.html#L263">Negative out-of-bound index with a[i]=v (2/2)</a><br/><br/>
<i>stdout:</i> <br/>
<pre>declare -a sp1=([9]="x")
</pre><i>stderr:</i> <br/>
<pre>bash: line 5: sp1[-21]: bad array subscript
</pre></td></tr><tr><td><a name="details-8-mksh"></a><b>mksh</b></td><td>8 <a href="array-sparse.test.html#L263">Negative out-of-bound index with a[i]=v (2/2)</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-8-ksh"></a><b>ksh</b></td><td>8 <a href="array-sparse.test.html#L263">Negative out-of-bound index with a[i]=v (2/2)</a><br/><br/>
<span class="assertion">
[ksh stderr]
Expected '  sp1[-21]=F\n  ^~~~\n[ stdin ]:5: fatal: Index -21 is out of bounds for array of length 10\n'
Got      'E: ksh: &lt;stdin&gt;[6]: declare: inaccessible or not found\n'
</span><br/>
<span class="assertion">[ksh status] Expected 1, got 127</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[6]: declare: inaccessible or not found
</pre></td></tr><tr><td><a name="details-8-toysh"></a><b>toysh</b></td><td>8 <a href="array-sparse.test.html#L263">Negative out-of-bound index with a[i]=v (2/2)</a><br/><br/>
<span class="assertion">
[toysh stderr]
Expected '  sp1[-21]=F\n  ^~~~\n[ stdin ]:5: fatal: Index -21 is out of bounds for array of length 10\n'
Got      'munmap_chunk(): invalid pointer\n'
</span><br/>
<span class="assertion">[toysh status] Expected 1, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-8-sush"></a><b>sush</b></td><td>8 <a href="array-sparse.test.html#L263">Negative out-of-bound index with a[i]=v (2/2)</a><br/><br/>
<span class="assertion">[sush stdout] Expected '', got 'declare -a sp1=([9]="x")\n'</span><br/>
<span class="assertion">
[sush stderr]
Expected '  sp1[-21]=F\n  ^~~~\n[ stdin ]:5: fatal: Index -21 is out of bounds for array of length 10\n'
Got      ''
</span><br/>
<span class="assertion">[sush status] Expected 1, got 0</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -a sp1=([9]="x")
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-8-brush"></a><b>brush</b></td><td>8 <a href="array-sparse.test.html#L263">Negative out-of-bound index with a[i]=v (2/2)</a><br/><br/>
<span class="assertion">[brush stdout] Expected '', got 'declare -a sp1=([0]="F" [9]="x")\n'</span><br/>
<span class="assertion">
[brush stderr]
Expected '  sp1[-21]=F\n  ^~~~\n[ stdin ]:5: fatal: Index -21 is out of bounds for array of length 10\n'
Got      ''
</span><br/>
<span class="assertion">[brush status] Expected 1, got 0</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -a sp1=([0]="F" [9]="x")
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-9-mksh"></a><b>mksh</b></td><td>9 <a href="array-sparse.test.html#L293">xtrace a+=()</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>+ set -A sp1+ -- 2
</pre></td></tr><tr><td><a name="details-9-ksh"></a><b>ksh</b></td><td>9 <a href="array-sparse.test.html#L293">xtrace a+=()</a><br/><br/>
<span class="assertion">[ksh stderr] Expected '+ sp1+=(2)\n', got '+ set -A sp1+ -- 2\n'</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>+ set -A sp1+ -- 2
</pre></td></tr><tr><td><a name="details-9-toysh"></a><b>toysh</b></td><td>9 <a href="array-sparse.test.html#L293">xtrace a+=()</a><br/><br/>
<span class="assertion">[toysh stderr] Expected '+ sp1+=(2)\n', got 'main: line 1: sh: syntax error: 1\n'</span><br/>
<span class="assertion">[toysh status] Expected 0, got 2</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>main: line 1: sh: syntax error: 1
</pre></td></tr><tr><td><a name="details-9-sush"></a><b>sush</b></td><td>9 <a href="array-sparse.test.html#L293">xtrace a+=()</a><br/><br/>
<span class="assertion">[sush stderr] Expected '+ sp1+=(2)\n', got '/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 2: set: -x: invalid option\n'</span><br/>
<span class="assertion">[sush status] Expected 0, got 2</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 2: set: -x: invalid option
</pre></td></tr><tr><td><a name="details-10-bash"></a><b>bash</b></td><td>10 <a href="array-sparse.test.html#L309">unset -v a[i]</a><br/><br/>
<i>stdout:</i> <br/>
<pre>declare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
declare -a a=([0]="1" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
declare -a a=([0]="1" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
declare -a a=([2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-10-mksh"></a><b>mksh</b></td><td>10 <a href="array-sparse.test.html#L309">unset -v a[i]</a><br/><br/>
<i>stdout:</i> <br/>
<pre>set -A a
typeset a[0]=1
typeset a[1]=2
typeset a[2]=3
typeset a[3]=4
typeset a[4]=5
typeset a[5]=6
typeset a[6]=7
typeset a[7]=8
typeset a[8]=9
set -A a
typeset a[0]=1
typeset a[2]=3
typeset a[3]=4
typeset a[4]=5
typeset a[5]=6
typeset a[6]=7
typeset a[7]=8
typeset a[8]=9
set -A a
typeset a[0]=1
typeset a[2]=3
typeset a[3]=4
typeset a[4]=5
typeset a[5]=6
typeset a[6]=7
typeset a[7]=8
typeset a[8]=9
set -A a
typeset a[2]=3
typeset a[3]=4
typeset a[4]=5
typeset a[5]=6
typeset a[6]=7
typeset a[7]=8
typeset a[8]=9
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-10-ksh"></a><b>ksh</b></td><td>10 <a href="array-sparse.test.html#L309">unset -v a[i]</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected 'declare -a a=(1 2 3 4 5 6 7 8 9)\ndeclare -a a=([0]=1 [2]=3 [3]=4 [4]=5 [5]=6 [6]=7 [7]=8 [8]=9)\ndeclare -a a=([0]=1 [2]=3 [3]=4 [4]=5 [5]=6 [6]=7 [7]=8 [8]=9)\ndeclare -a a=([2]=3 [3]=4 [4]=5 [5]=6 [6]=7 [7]=8 [8]=9)\n'
Got      'set -A a\ntypeset a[0]=1\ntypeset a[1]=2\ntypeset a[2]=3\ntypeset a[3]=4\ntypeset a[4]=5\ntypeset a[5]=6\ntypeset a[6]=7\ntypeset a[7]=8\ntypeset a[8]=9\nset -A a\ntypeset a[0]=1\ntypeset a[2]=3\ntypeset a[3]=4\ntypeset a[4]=5\ntypeset a[5]=6\ntypeset a[6]=7\ntypeset a[7]=8\ntypeset a[8]=9\nset -A a\ntypeset a[0]=1\ntypeset a[2]=3\ntypeset a[3]=4\ntypeset a[4]=5\ntypeset a[5]=6\ntypeset a[6]=7\ntypeset a[7]=8\ntypeset a[8]=9\nset -A a\ntypeset a[2]=3\ntypeset a[3]=4\ntypeset a[4]=5\ntypeset a[5]=6\ntypeset a[6]=7\ntypeset a[7]=8\ntypeset a[8]=9\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>set -A a
typeset a[0]=1
typeset a[1]=2
typeset a[2]=3
typeset a[3]=4
typeset a[4]=5
typeset a[5]=6
typeset a[6]=7
typeset a[7]=8
typeset a[8]=9
set -A a
typeset a[0]=1
typeset a[2]=3
typeset a[3]=4
typeset a[4]=5
typeset a[5]=6
typeset a[6]=7
typeset a[7]=8
typeset a[8]=9
set -A a
typeset a[0]=1
typeset a[2]=3
typeset a[3]=4
typeset a[4]=5
typeset a[5]=6
typeset a[6]=7
typeset a[7]=8
typeset a[8]=9
set -A a
typeset a[2]=3
typeset a[3]=4
typeset a[4]=5
typeset a[5]=6
typeset a[6]=7
typeset a[7]=8
typeset a[8]=9
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-10-toysh"></a><b>toysh</b></td><td>10 <a href="array-sparse.test.html#L309">unset -v a[i]</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'declare -a a=(1 2 3 4 5 6 7 8 9)\ndeclare -a a=([0]=1 [2]=3 [3]=4 [4]=5 [5]=6 [6]=7 [7]=8 [8]=9)\ndeclare -a a=([0]=1 [2]=3 [3]=4 [4]=5 [5]=6 [6]=7 [7]=8 [8]=9)\ndeclare -a a=([2]=3 [3]=4 [4]=5 [5]=6 [6]=7 [7]=8 [8]=9)\n'
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got 2</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>main: line 1: sh: syntax error: 1
</pre></td></tr><tr><td><a name="details-10-sush"></a><b>sush</b></td><td>10 <a href="array-sparse.test.html#L309">unset -v a[i]</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected 'declare -a a=(1 2 3 4 5 6 7 8 9)\ndeclare -a a=([0]=1 [2]=3 [3]=4 [4]=5 [5]=6 [6]=7 [7]=8 [8]=9)\ndeclare -a a=([0]=1 [2]=3 [3]=4 [4]=5 [5]=6 [6]=7 [7]=8 [8]=9)\ndeclare -a a=([2]=3 [3]=4 [4]=5 [5]=6 [6]=7 [7]=8 [8]=9)\n'
Got      'declare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")\ndeclare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")\ndeclare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")\ndeclare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
declare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
declare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
declare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-10-brush"></a><b>brush</b></td><td>10 <a href="array-sparse.test.html#L309">unset -v a[i]</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected 'declare -a a=(1 2 3 4 5 6 7 8 9)\ndeclare -a a=([0]=1 [2]=3 [3]=4 [4]=5 [5]=6 [6]=7 [7]=8 [8]=9)\ndeclare -a a=([0]=1 [2]=3 [3]=4 [4]=5 [5]=6 [6]=7 [7]=8 [8]=9)\ndeclare -a a=([2]=3 [3]=4 [4]=5 [5]=6 [6]=7 [7]=8 [8]=9)\n'
Got      'declare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")\ndeclare -a a=([0]="1" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")\ndeclare -a a=([0]="1" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")\ndeclare -a a=([2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
declare -a a=([0]="1" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
declare -a a=([0]="1" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
declare -a a=([2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-11-bash"></a><b>bash</b></td><td>11 <a href="array-sparse.test.html#L373">unset -v a[i] with out-of-bound negative index</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>bash: line 5: unset: [-2]: bad array subscript
bash: line 6: unset: [-3]: bad array subscript
</pre></td></tr><tr><td><a name="details-11-mksh"></a><b>mksh</b></td><td>11 <a href="array-sparse.test.html#L373">unset -v a[i] with out-of-bound negative index</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-11-ksh"></a><b>ksh</b></td><td>11 <a href="array-sparse.test.html#L373">unset -v a[i] with out-of-bound negative index</a><br/><br/>
<span class="assertion">
[ksh stderr]
Expected '  unset -v "a[-2]"\n           ^\n[ stdin ]:5: a[-2]: Index is out of bounds for array of length 1\n  unset -v "a[-3]"\n           ^\n[ stdin ]:6: a[-3]: Index is out of bounds for array of length 1\n'
Got      ''
</span><br/>
<span class="assertion">[ksh status] Expected 1, got 0</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-11-toysh"></a><b>toysh</b></td><td>11 <a href="array-sparse.test.html#L373">unset -v a[i] with out-of-bound negative index</a><br/><br/>
<span class="assertion">
[toysh stderr]
Expected '  unset -v "a[-2]"\n           ^\n[ stdin ]:5: a[-2]: Index is out of bounds for array of length 1\n  unset -v "a[-3]"\n           ^\n[ stdin ]:6: a[-3]: Index is out of bounds for array of length 1\n'
Got      'munmap_chunk(): invalid pointer\n'
</span><br/>
<span class="assertion">[toysh status] Expected 1, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-11-sush"></a><b>sush</b></td><td>11 <a href="array-sparse.test.html#L373">unset -v a[i] with out-of-bound negative index</a><br/><br/>
<span class="assertion">
[sush stderr]
Expected '  unset -v "a[-2]"\n           ^\n[ stdin ]:5: a[-2]: Index is out of bounds for array of length 1\n  unset -v "a[-3]"\n           ^\n[ stdin ]:6: a[-3]: Index is out of bounds for array of length 1\n'
Got      ''
</span><br/>
<span class="assertion">[sush status] Expected 1, got 0</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-11-brush"></a><b>brush</b></td><td>11 <a href="array-sparse.test.html#L373">unset -v a[i] with out-of-bound negative index</a><br/><br/>
<span class="assertion">
[brush stderr]
Expected '  unset -v "a[-2]"\n           ^\n[ stdin ]:5: a[-2]: Index is out of bounds for array of length 1\n  unset -v "a[-3]"\n           ^\n[ stdin ]:6: a[-3]: Index is out of bounds for array of length 1\n'
Got      ''
</span><br/>
<span class="assertion">[brush status] Expected 1, got 0</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-12-bash"></a><b>bash</b></td><td>12 <a href="array-sparse.test.html#L403">unset -v a[i] for max index</a><br/><br/>
<i>stdout:</i> <br/>
<pre>declare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="x")
declare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="x")
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-12-mksh"></a><b>mksh</b></td><td>12 <a href="array-sparse.test.html#L403">unset -v a[i] for max index</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-12-ksh"></a><b>ksh</b></td><td>12 <a href="array-sparse.test.html#L403">unset -v a[i] for max index</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected 'declare -a a=(1 2 3 4 5 6 7 x)\ndeclare -a a=(1 2 3 4 5 6 x)\n'
Got      ''
</span><br/>
<span class="assertion">[ksh status] Expected 0, got 127</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[6]: declare: inaccessible or not found
E: ksh: &lt;stdin&gt;[9]: declare: inaccessible or not found
</pre></td></tr><tr><td><a name="details-12-toysh"></a><b>toysh</b></td><td>12 <a href="array-sparse.test.html#L403">unset -v a[i] for max index</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'declare -a a=(1 2 3 4 5 6 7 x)\ndeclare -a a=(1 2 3 4 5 6 x)\n'
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-12-sush"></a><b>sush</b></td><td>12 <a href="array-sparse.test.html#L403">unset -v a[i] for max index</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected 'declare -a a=(1 2 3 4 5 6 7 x)\ndeclare -a a=(1 2 3 4 5 6 x)\n'
Got      'declare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")\ndeclare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
declare -a a=([0]="1" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-12-brush"></a><b>brush</b></td><td>12 <a href="array-sparse.test.html#L403">unset -v a[i] for max index</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected 'declare -a a=(1 2 3 4 5 6 7 x)\ndeclare -a a=(1 2 3 4 5 6 x)\n'
Got      'declare -a a=([0]="x" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")\ndeclare -a a=([0]="x" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>declare -a a=([0]="x" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
declare -a a=([0]="x" [1]="2" [2]="3" [3]="4" [4]="5" [5]="6" [6]="7" [7]="8" [8]="9")
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-13-mksh"></a><b>mksh</b></td><td>13 <a href="array-sparse.test.html#L428">[[ -v a[i] ]]</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-13-ksh"></a><b>ksh</b></td><td>13 <a href="array-sparse.test.html#L428">[[ -v a[i] ]]</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected '1 (expect 1)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n0 (expect 0)\n0 (expect 0)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n0 (expect 0)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n'
Got      '1 (expect 1)\n1 (expect 1)\n0 (expect 0)\n1 (expect 0)\n1 (expect 1)\n1 (expect 0)\n1 (expect 0)\n1 (expect 0)\n1 (expect 0)\n1 (expect 1)\n1 (expect 0)\n1 (expect 0)\n1 (expect 0)\n1 (expect 1)\n1 (expect 0)\n1 (expect 0)\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>1 (expect 1)
1 (expect 1)
0 (expect 0)
1 (expect 0)
1 (expect 1)
1 (expect 0)
1 (expect 0)
1 (expect 0)
1 (expect 0)
1 (expect 1)
1 (expect 0)
1 (expect 0)
1 (expect 0)
1 (expect 1)
1 (expect 0)
1 (expect 0)
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-13-toysh"></a><b>toysh</b></td><td>13 <a href="array-sparse.test.html#L428">[[ -v a[i] ]]</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected '1 (expect 1)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n0 (expect 0)\n0 (expect 0)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n0 (expect 0)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n'
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-13-sush"></a><b>sush</b></td><td>13 <a href="array-sparse.test.html#L428">[[ -v a[i] ]]</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected '1 (expect 1)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n0 (expect 0)\n0 (expect 0)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n0 (expect 0)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n'
Got      '1 (expect 1)\n1 (expect 1)\n1 (expect 0)\n1 (expect 0)\n1 (expect 1)\n1 (expect 0)\n1 (expect 0)\n1 (expect 0)\n1 (expect 0)\n1 (expect 1)\n1 (expect 0)\n1 (expect 0)\n1 (expect 0)\n1 (expect 1)\n1 (expect 0)\n1 (expect 0)\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>1 (expect 1)
1 (expect 1)
1 (expect 0)
1 (expect 0)
1 (expect 1)
1 (expect 0)
1 (expect 0)
1 (expect 0)
1 (expect 0)
1 (expect 1)
1 (expect 0)
1 (expect 0)
1 (expect 0)
1 (expect 1)
1 (expect 0)
1 (expect 0)
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-13-brush"></a><b>brush</b></td><td>13 <a href="array-sparse.test.html#L428">[[ -v a[i] ]]</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected '1 (expect 1)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n0 (expect 0)\n0 (expect 0)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n0 (expect 0)\n1 (expect 1)\n0 (expect 0)\n0 (expect 0)\n'
Got      '1 (expect 1)\n1 (expect 1)\n1 (expect 0)\n1 (expect 0)\n1 (expect 1)\n1 (expect 0)\n1 (expect 0)\n1 (expect 0)\n1 (expect 0)\n1 (expect 1)\n1 (expect 0)\n1 (expect 0)\n1 (expect 0)\n1 (expect 1)\n1 (expect 0)\n1 (expect 0)\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>1 (expect 1)
1 (expect 1)
1 (expect 0)
1 (expect 0)
1 (expect 1)
1 (expect 0)
1 (expect 0)
1 (expect 0)
1 (expect 0)
1 (expect 1)
1 (expect 0)
1 (expect 0)
1 (expect 0)
1 (expect 1)
1 (expect 0)
1 (expect 0)
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-14-bash"></a><b>bash</b></td><td>14 <a href="array-sparse.test.html#L477">[[ -v a[i] ]] with invalid negative index</a><br/><br/>
<i>stdout:</i> <br/>
<pre>1 (expect 1)
1 (expect 1)
1 (expect 1)
</pre><i>stderr:</i> <br/>
<pre>bash: line 4: sp1: bad array subscript
bash: line 6: sp2: bad array subscript
bash: line 9: sp3: bad array subscript
</pre></td></tr><tr><td><a name="details-14-mksh"></a><b>mksh</b></td><td>14 <a href="array-sparse.test.html#L477">[[ -v a[i] ]] with invalid negative index</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-14-ksh"></a><b>ksh</b></td><td>14 <a href="array-sparse.test.html#L477">[[ -v a[i] ]] with invalid negative index</a><br/><br/>
<span class="assertion">[ksh stdout] Expected '', got '1 (expect 1)\n1 (expect 1)\n1 (expect 1)\n'</span><br/>
<span class="assertion">
[ksh stderr]
Expected '  ([[ -v sp1[-1] ]]; echo "$? (expect 1)")\n         ^~~\n[ stdin ]:4: fatal: -v got index -1, which is out of bounds for array of length 0\n  ([[ -v sp2[-10] ]]; echo "$? (expect 1)")\n         ^~~\n[ stdin ]:6: fatal: -v got index -10, which is out of bounds for array of length 9\n  ([[ -v sp3[-10] ]]; echo "$? (expect 1)")\n         ^~~\n[ stdin ]:9: fatal: -v got index -10, which is out of bounds for array of length 9\n'
Got      ''
</span><br/>
<span class="assertion">[ksh status] Expected 1, got 0</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>1 (expect 1)
1 (expect 1)
1 (expect 1)
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-14-toysh"></a><b>toysh</b></td><td>14 <a href="array-sparse.test.html#L477">[[ -v a[i] ]] with invalid negative index</a><br/><br/>
<span class="assertion">
[toysh stderr]
Expected '  ([[ -v sp1[-1] ]]; echo "$? (expect 1)")\n         ^~~\n[ stdin ]:4: fatal: -v got index -1, which is out of bounds for array of length 0\n  ([[ -v sp2[-10] ]]; echo "$? (expect 1)")\n         ^~~\n[ stdin ]:6: fatal: -v got index -10, which is out of bounds for array of length 9\n  ([[ -v sp3[-10] ]]; echo "$? (expect 1)")\n         ^~~\n[ stdin ]:9: fatal: -v got index -10, which is out of bounds for array of length 9\n'
Got      'munmap_chunk(): invalid pointer\n'
</span><br/>
<span class="assertion">[toysh status] Expected 1, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-14-sush"></a><b>sush</b></td><td>14 <a href="array-sparse.test.html#L477">[[ -v a[i] ]] with invalid negative index</a><br/><br/>
<span class="assertion">[sush stdout] Expected '', got '1 (expect 1)\n1 (expect 1)\n1 (expect 1)\n'</span><br/>
<span class="assertion">
[sush stderr]
Expected '  ([[ -v sp1[-1] ]]; echo "$? (expect 1)")\n         ^~~\n[ stdin ]:4: fatal: -v got index -1, which is out of bounds for array of length 0\n  ([[ -v sp2[-10] ]]; echo "$? (expect 1)")\n         ^~~\n[ stdin ]:6: fatal: -v got index -10, which is out of bounds for array of length 9\n  ([[ -v sp3[-10] ]]; echo "$? (expect 1)")\n         ^~~\n[ stdin ]:9: fatal: -v got index -10, which is out of bounds for array of length 9\n'
Got      ''
</span><br/>
<span class="assertion">[sush status] Expected 1, got 0</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>1 (expect 1)
1 (expect 1)
1 (expect 1)
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-14-brush"></a><b>brush</b></td><td>14 <a href="array-sparse.test.html#L477">[[ -v a[i] ]] with invalid negative index</a><br/><br/>
<span class="assertion">[brush stdout] Expected '', got '1 (expect 1)\n1 (expect 1)\n1 (expect 1)\n'</span><br/>
<span class="assertion">
[brush stderr]
Expected '  ([[ -v sp1[-1] ]]; echo "$? (expect 1)")\n         ^~~\n[ stdin ]:4: fatal: -v got index -1, which is out of bounds for array of length 0\n  ([[ -v sp2[-10] ]]; echo "$? (expect 1)")\n         ^~~\n[ stdin ]:6: fatal: -v got index -10, which is out of bounds for array of length 9\n  ([[ -v sp3[-10] ]]; echo "$? (expect 1)")\n         ^~~\n[ stdin ]:9: fatal: -v got index -10, which is out of bounds for array of length 9\n'
Got      ''
</span><br/>
<span class="assertion">[brush status] Expected 1, got 0</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>1 (expect 1)
1 (expect 1)
1 (expect 1)
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-15-toysh"></a><b>toysh</b></td><td>15 <a href="array-sparse.test.html#L520">((sp[i])) and ((sp[i]++))</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected '1\n2\n0\n0\n0\n2\n0\n0\n0\n4\n2\n2\n2\n100\n100\n100\n100\n'
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got 2</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>main: line 1: sh: syntax error: 1
</pre></td></tr><tr><td><a name="details-15-sush"></a><b>sush</b></td><td>15 <a href="array-sparse.test.html#L520">((sp[i])) and ((sp[i]++))</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected '1\n2\n0\n0\n0\n2\n0\n0\n0\n4\n2\n2\n2\n100\n100\n100\n100\n'
Got      '1\n2\n3\n4\n8\n2\n3\n4\n8\n4\n5\n6\n10\n100\n100\n100\n100\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>1
2
3
4
8
2
3
4
8
4
5
6
10
100
100
100
100
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-16-bash"></a><b>bash</b></td><td>16 <a href="array-sparse.test.html#L566">((sp[i])) and ((sp[i]++)) with invalid negative index</a><br/><br/>
<i>stdout:</i> <br/>
<pre>0
</pre><i>stderr:</i> <br/>
<pre>bash: line 6: a: bad array subscript
</pre></td></tr><tr><td><a name="details-16-mksh"></a><b>mksh</b></td><td>16 <a href="array-sparse.test.html#L566">((sp[i])) and ((sp[i]++)) with invalid negative index</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-16-ksh"></a><b>ksh</b></td><td>16 <a href="array-sparse.test.html#L566">((sp[i])) and ((sp[i]++)) with invalid negative index</a><br/><br/>
<span class="assertion">
[ksh stderr]
Expected '  echo $((a[-10]))\n           ^\n[ stdin ]:6: Index -10 out of bounds for array of length 9\n'
Got      ''
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>0
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-16-toysh"></a><b>toysh</b></td><td>16 <a href="array-sparse.test.html#L566">((sp[i])) and ((sp[i]++)) with invalid negative index</a><br/><br/>
<span class="assertion">[toysh stdout] Expected '0\n', got ''</span><br/>
<span class="assertion">
[toysh stderr]
Expected '  echo $((a[-10]))\n           ^\n[ stdin ]:6: Index -10 out of bounds for array of length 9\n'
Got      'munmap_chunk(): invalid pointer\n'
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-16-sush"></a><b>sush</b></td><td>16 <a href="array-sparse.test.html#L566">((sp[i])) and ((sp[i]++)) with invalid negative index</a><br/><br/>
<span class="assertion">
[sush stderr]
Expected '  echo $((a[-10]))\n           ^\n[ stdin ]:6: Index -10 out of bounds for array of length 9\n'
Got      ''
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>0
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-16-brush"></a><b>brush</b></td><td>16 <a href="array-sparse.test.html#L566">((sp[i])) and ((sp[i]++)) with invalid negative index</a><br/><br/>
<span class="assertion">[brush stdout] Expected '0\n', got ''</span><br/>
<span class="assertion">
[brush stderr]
Expected '  echo $((a[-10]))\n           ^\n[ stdin ]:6: Index -10 out of bounds for array of length 9\n'
Got      '\x1b[31mERROR\x1b[0m error: arithmetic evaluation error: failed to access array\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>[31mERROR[0m error: arithmetic evaluation error: failed to access array
</pre></td></tr><tr><td><a name="details-17-mksh"></a><b>mksh</b></td><td>17 <a href="array-sparse.test.html#L593">${sp[i]}</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-17-ksh"></a><b>ksh</b></td><td>17 <a href="array-sparse.test.html#L593">${sp[i]}</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected "sp[0]: '1', 1, set.\nsp[1]: '2', 2, set.\nsp[8]: '9', 9, set.\nsp[2]: '', (empty), .\nsp[3]: '', (empty), .\nsp[7]: '', (empty), .\nsp[-1]: '9'.\nsp[-2]: ''.\nsp[-3]: '7'.\nsp[-4]: '6'.\nsp[-9]: '1'.\n"
Got      "sp[0]: '{1..9}', {1..9}, set.\nsp[1]: '', (empty), .\nsp[8]: '', (empty), .\nsp[2]: '', (empty), .\nsp[3]: '', (empty), .\nsp[7]: '', (empty), .\nsp[-1]: ''.\nsp[-2]: ''.\nsp[-3]: ''.\nsp[-4]: ''.\nsp[-9]: ''.\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>sp[0]: '{1..9}', {1..9}, set.
sp[1]: '', (empty), .
sp[8]: '', (empty), .
sp[2]: '', (empty), .
sp[3]: '', (empty), .
sp[7]: '', (empty), .
sp[-1]: ''.
sp[-2]: ''.
sp[-3]: ''.
sp[-4]: ''.
sp[-9]: ''.
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-17-toysh"></a><b>toysh</b></td><td>17 <a href="array-sparse.test.html#L593">${sp[i]}</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected "sp[0]: '1', 1, set.\nsp[1]: '2', 2, set.\nsp[8]: '9', 9, set.\nsp[2]: '', (empty), .\nsp[3]: '', (empty), .\nsp[7]: '', (empty), .\nsp[-1]: '9'.\nsp[-2]: ''.\nsp[-3]: '7'.\nsp[-4]: '6'.\nsp[-9]: '1'.\n"
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-17-sush"></a><b>sush</b></td><td>17 <a href="array-sparse.test.html#L593">${sp[i]}</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected "sp[0]: '1', 1, set.\nsp[1]: '2', 2, set.\nsp[8]: '9', 9, set.\nsp[2]: '', (empty), .\nsp[3]: '', (empty), .\nsp[7]: '', (empty), .\nsp[-1]: '9'.\nsp[-2]: ''.\nsp[-3]: '7'.\nsp[-4]: '6'.\nsp[-9]: '1'.\n"
Got      "sp[0]: '1', 1, set.\nsp[1]: '2', 2, set.\nsp[8]: '9', 9, set.\nsp[2]: '3', 3, set.\nsp[3]: '4', 4, set.\nsp[7]: '8', 8, set.\nsp[-1]: ''.\nsp[-2]: ''.\nsp[-3]: ''.\nsp[-4]: ''.\nsp[-9]: ''.\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>sp[0]: '1', 1, set.
sp[1]: '2', 2, set.
sp[8]: '9', 9, set.
sp[2]: '3', 3, set.
sp[3]: '4', 4, set.
sp[7]: '8', 8, set.
sp[-1]: ''.
sp[-2]: ''.
sp[-3]: ''.
sp[-4]: ''.
sp[-9]: ''.
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-17-brush"></a><b>brush</b></td><td>17 <a href="array-sparse.test.html#L593">${sp[i]}</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected "sp[0]: '1', 1, set.\nsp[1]: '2', 2, set.\nsp[8]: '9', 9, set.\nsp[2]: '', (empty), .\nsp[3]: '', (empty), .\nsp[7]: '', (empty), .\nsp[-1]: '9'.\nsp[-2]: ''.\nsp[-3]: '7'.\nsp[-4]: '6'.\nsp[-9]: '1'.\n"
Got      "sp[0]: '1', 1, set.\nsp[1]: '2', 2, set.\nsp[8]: '9', 9, set.\nsp[2]: '', (empty), .\nsp[3]: '', (empty), .\nsp[7]: '', (empty), .\nsp[-1]: '6'.\nsp[-2]: '5'.\nsp[-3]: ''.\nsp[-4]: ''.\nsp[-9]: ''.\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>sp[0]: '1', 1, set.
sp[1]: '2', 2, set.
sp[8]: '9', 9, set.
sp[2]: '', (empty), .
sp[3]: '', (empty), .
sp[7]: '', (empty), .
sp[-1]: '6'.
sp[-2]: '5'.
sp[-3]: ''.
sp[-4]: ''.
sp[-9]: ''.
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-18-bash"></a><b>bash</b></td><td>18 <a href="array-sparse.test.html#L632">${sp[i]} with negative invalid index</a><br/><br/>
<i>stdout:</i> <br/>
<pre>sp[-10]: ''.
sp[-11]: ''.
sp[-19]: ''.
</pre><i>stderr:</i> <br/>
<pre>bash: line 8: sp: bad array subscript
bash: line 9: sp: bad array subscript
bash: line 10: sp: bad array subscript
</pre></td></tr><tr><td><a name="details-18-mksh"></a><b>mksh</b></td><td>18 <a href="array-sparse.test.html#L632">${sp[i]} with negative invalid index</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-18-ksh"></a><b>ksh</b></td><td>18 <a href="array-sparse.test.html#L632">${sp[i]} with negative invalid index</a><br/><br/>
<span class="assertion">
[ksh stderr]
Expected '  echo "sp[-10]: \'${sp[-10]}\'."\n                    ^~\n[ stdin ]:8: Index -10 out of bounds for array of length 9\n  echo "sp[-11]: \'${sp[-11]}\'."\n                    ^~\n[ stdin ]:9: Index -11 out of bounds for array of length 9\n  echo "sp[-19]: \'${sp[-19]}\'."\n                    ^~\n[ stdin ]:10: Index -19 out of bounds for array of length 9\n'
Got      ''
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>sp[-10]: ''.
sp[-11]: ''.
sp[-19]: ''.
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-18-toysh"></a><b>toysh</b></td><td>18 <a href="array-sparse.test.html#L632">${sp[i]} with negative invalid index</a><br/><br/>
<span class="assertion">[toysh stdout] Expected "sp[-10]: ''.\nsp[-11]: ''.\nsp[-19]: ''.\n", got ''</span><br/>
<span class="assertion">
[toysh stderr]
Expected '  echo "sp[-10]: \'${sp[-10]}\'."\n                    ^~\n[ stdin ]:8: Index -10 out of bounds for array of length 9\n  echo "sp[-11]: \'${sp[-11]}\'."\n                    ^~\n[ stdin ]:9: Index -11 out of bounds for array of length 9\n  echo "sp[-19]: \'${sp[-19]}\'."\n                    ^~\n[ stdin ]:10: Index -19 out of bounds for array of length 9\n'
Got      'munmap_chunk(): invalid pointer\n'
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-18-sush"></a><b>sush</b></td><td>18 <a href="array-sparse.test.html#L632">${sp[i]} with negative invalid index</a><br/><br/>
<span class="assertion">
[sush stderr]
Expected '  echo "sp[-10]: \'${sp[-10]}\'."\n                    ^~\n[ stdin ]:8: Index -10 out of bounds for array of length 9\n  echo "sp[-11]: \'${sp[-11]}\'."\n                    ^~\n[ stdin ]:9: Index -11 out of bounds for array of length 9\n  echo "sp[-19]: \'${sp[-19]}\'."\n                    ^~\n[ stdin ]:10: Index -19 out of bounds for array of length 9\n'
Got      ''
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>sp[-10]: ''.
sp[-11]: ''.
sp[-19]: ''.
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-18-brush"></a><b>brush</b></td><td>18 <a href="array-sparse.test.html#L632">${sp[i]} with negative invalid index</a><br/><br/>
<span class="assertion">
[brush stderr]
Expected '  echo "sp[-10]: \'${sp[-10]}\'."\n                    ^~\n[ stdin ]:8: Index -10 out of bounds for array of length 9\n  echo "sp[-11]: \'${sp[-11]}\'."\n                    ^~\n[ stdin ]:9: Index -11 out of bounds for array of length 9\n  echo "sp[-19]: \'${sp[-19]}\'."\n                    ^~\n[ stdin ]:10: Index -19 out of bounds for array of length 9\n'
Got      ''
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>sp[-10]: ''.
sp[-11]: ''.
sp[-19]: ''.
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-19-mksh"></a><b>mksh</b></td><td>19 <a href="array-sparse.test.html#L673">${a[@]:offset:length}</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-19-ksh"></a><b>ksh</b></td><td>19 <a href="array-sparse.test.html#L673">${a[@]:offset:length}</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected '==== ${a[@]:offset} ====\n[v0 v1 v5 v6 v8 v9][v0 v1 v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v9][v9]\n[][]\n[][]\n==== ${a[@]:negative} ====\n[v9][v9]\n[v8 v9][v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v1 v5 v6 v8 v9][v1 v5 v6 v8 v9]\n[v0 v1 v5 v6 v8 v9][v0 v1 v5 v6 v8 v9]\n[][]\n[][]\n==== ${a[@]:offset:length} ====\n[][]\n[v0][v0]\n[v0 v1 v5][v0 v1 v5]\n[v5][v5]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[][]\n[v9][v9]\n[v9][v9]\n[][]\n'
Got      '==== ${a[@]:offset} ====\n'
</span><br/>
<span class="assertion">[ksh status] Expected 0, got 1</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>==== ${a[@]:offset} ====
</pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[7]: ${a[@]: 0}: bad substitution
</pre></td></tr><tr><td><a name="details-19-toysh"></a><b>toysh</b></td><td>19 <a href="array-sparse.test.html#L673">${a[@]:offset:length}</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected '==== ${a[@]:offset} ====\n[v0 v1 v5 v6 v8 v9][v0 v1 v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v9][v9]\n[][]\n[][]\n==== ${a[@]:negative} ====\n[v9][v9]\n[v8 v9][v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v1 v5 v6 v8 v9][v1 v5 v6 v8 v9]\n[v0 v1 v5 v6 v8 v9][v0 v1 v5 v6 v8 v9]\n[][]\n[][]\n==== ${a[@]:offset:length} ====\n[][]\n[v0][v0]\n[v0 v1 v5][v0 v1 v5]\n[v5][v5]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[][]\n[v9][v9]\n[v9][v9]\n[][]\n'
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-19-sush"></a><b>sush</b></td><td>19 <a href="array-sparse.test.html#L673">${a[@]:offset:length}</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected '==== ${a[@]:offset} ====\n[v0 v1 v5 v6 v8 v9][v0 v1 v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v9][v9]\n[][]\n[][]\n==== ${a[@]:negative} ====\n[v9][v9]\n[v8 v9][v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v1 v5 v6 v8 v9][v1 v5 v6 v8 v9]\n[v0 v1 v5 v6 v8 v9][v0 v1 v5 v6 v8 v9]\n[][]\n[][]\n==== ${a[@]:offset:length} ====\n[][]\n[v0][v0]\n[v0 v1 v5][v0 v1 v5]\n[v5][v5]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[][]\n[v9][v9]\n[v9][v9]\n[][]\n'
Got      '==== ${a[@]:offset} ====\n[v0 v1 v2 v3 v4 v5 v6 v7 v8 v9][v0 v1 v2 v3 v4 v5 v6 v7 v8 v9]\n[v2 v3 v4 v5 v6 v7 v8 v9][v2 v3 v4 v5 v6 v7 v8 v9]\n[v3 v4 v5 v6 v7 v8 v9][v3 v4 v5 v6 v7 v8 v9]\n[v5 v6 v7 v8 v9][v5 v6 v7 v8 v9]\n[v9][v9]\n[][]\n[][]\n==== ${a[@]:negative} ====\n[v9][v9]\n[v8 v9][v8 v9]\n[v5 v6 v7 v8 v9][v5 v6 v7 v8 v9]\n[v1 v2 v3 v4 v5 v6 v7 v8 v9][v1 v2 v3 v4 v5 v6 v7 v8 v9]\n[v0 v1 v2 v3 v4 v5 v6 v7 v8 v9][v0 v1 v2 v3 v4 v5 v6 v7 v8 v9]\n[][]\n[][]\n==== ${a[@]:offset:length} ====\n[][]\n[v0][v0]\n[v0 v1 v2][v0 v1 v2]\n[v2][v2]\n[v2 v3 v4 v5][v2 v3 v4 v5]\n[v3 v4 v5 v6][v3 v4 v5 v6]\n[v5 v6 v7 v8][v5 v6 v7 v8]\n[][]\n[v9][v9]\n[v9][v9]\n[][]\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>==== ${a[@]:offset} ====
[v0 v1 v2 v3 v4 v5 v6 v7 v8 v9][v0 v1 v2 v3 v4 v5 v6 v7 v8 v9]
[v2 v3 v4 v5 v6 v7 v8 v9][v2 v3 v4 v5 v6 v7 v8 v9]
[v3 v4 v5 v6 v7 v8 v9][v3 v4 v5 v6 v7 v8 v9]
[v5 v6 v7 v8 v9][v5 v6 v7 v8 v9]
[v9][v9]
[][]
[][]
==== ${a[@]:negative} ====
[v9][v9]
[v8 v9][v8 v9]
[v5 v6 v7 v8 v9][v5 v6 v7 v8 v9]
[v1 v2 v3 v4 v5 v6 v7 v8 v9][v1 v2 v3 v4 v5 v6 v7 v8 v9]
[v0 v1 v2 v3 v4 v5 v6 v7 v8 v9][v0 v1 v2 v3 v4 v5 v6 v7 v8 v9]
[][]
[][]
==== ${a[@]:offset:length} ====
[][]
[v0][v0]
[v0 v1 v2][v0 v1 v2]
[v2][v2]
[v2 v3 v4 v5][v2 v3 v4 v5]
[v3 v4 v5 v6][v3 v4 v5 v6]
[v5 v6 v7 v8][v5 v6 v7 v8]
[][]
[v9][v9]
[v9][v9]
[][]
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-19-brush"></a><b>brush</b></td><td>19 <a href="array-sparse.test.html#L673">${a[@]:offset:length}</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected '==== ${a[@]:offset} ====\n[v0 v1 v5 v6 v8 v9][v0 v1 v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v9][v9]\n[][]\n[][]\n==== ${a[@]:negative} ====\n[v9][v9]\n[v8 v9][v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v1 v5 v6 v8 v9][v1 v5 v6 v8 v9]\n[v0 v1 v5 v6 v8 v9][v0 v1 v5 v6 v8 v9]\n[][]\n[][]\n==== ${a[@]:offset:length} ====\n[][]\n[v0][v0]\n[v0 v1 v5][v0 v1 v5]\n[v5][v5]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[][]\n[v9][v9]\n[v9][v9]\n[][]\n'
Got      '==== ${a[@]:offset} ====\n[v0 v1 v5 v6 v8 v9][v0 v1 v5 v6 v8 v9]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v6 v8 v9][v6 v8 v9]\n[v9][v9]\n[][]\n[][]\n[][]\n==== ${a[@]:negative} ====\n[v9][v9]\n[v8 v9][v8 v9]\n[v1 v5 v6 v8 v9][v1 v5 v6 v8 v9]\n[][]\n[][]\n[][]\n[][]\n==== ${a[@]:offset:length} ====\n[][]\n[v0][v0]\n[v0 v1 v5][v0 v1 v5]\n[v5][v5]\n[v5 v6 v8 v9][v5 v6 v8 v9]\n[v6 v8 v9][v6 v8 v9]\n[v9][v9]\n[][]\n[][]\n[][]\n[][]\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>==== ${a[@]:offset} ====
[v0 v1 v5 v6 v8 v9][v0 v1 v5 v6 v8 v9]
[v5 v6 v8 v9][v5 v6 v8 v9]
[v6 v8 v9][v6 v8 v9]
[v9][v9]
[][]
[][]
[][]
==== ${a[@]:negative} ====
[v9][v9]
[v8 v9][v8 v9]
[v1 v5 v6 v8 v9][v1 v5 v6 v8 v9]
[][]
[][]
[][]
[][]
==== ${a[@]:offset:length} ====
[][]
[v0][v0]
[v0 v1 v5][v0 v1 v5]
[v5][v5]
[v5 v6 v8 v9][v5 v6 v8 v9]
[v6 v8 v9][v6 v8 v9]
[v9][v9]
[][]
[][]
[][]
[][]
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-20-mksh"></a><b>mksh</b></td><td>20 <a href="array-sparse.test.html#L745">${@:offset:length}</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-20-ksh"></a><b>ksh</b></td><td>20 <a href="array-sparse.test.html#L745">${@:offset:length}</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected '==== ${@:offset:length} ====\n[$SH v1 v2][$SH v1 v2]\n[v1 v2 v3][v1 v2 v3]\n[v3 v4 v5][v3 v4 v5]\n[v5 v6 v7 v8 v9][v5 v6 v7 v8 v9]\n==== ${@:negative} ====\n[v9][v9]\n[v7 v8 v9][v7 v8 v9]\n[v1 v2 v3 v4 v5 v6 v7 v8 v9][v1 v2 v3 v4 v5 v6 v7 v8 v9]\n[$SH v1 v2 v3 v4 v5 v6 v7 v8 v9][$SH v1 v2 v3 v4 v5 v6 v7 v8 v9]\n[][]\n[v7 v8][v7 v8]\n[v1 v2 v3 v4][v1 v2 v3 v4]\n[$SH v1 v2 v3][$SH v1 v2 v3]\n[][]\n'
Got      '==== ${@:offset:length} ====\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>==== ${@:offset:length} ====
</pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[22]: ${*: 0:3}: bad substitution
</pre></td></tr><tr><td><a name="details-20-toysh"></a><b>toysh</b></td><td>20 <a href="array-sparse.test.html#L745">${@:offset:length}</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected '==== ${@:offset:length} ====\n[$SH v1 v2][$SH v1 v2]\n[v1 v2 v3][v1 v2 v3]\n[v3 v4 v5][v3 v4 v5]\n[v5 v6 v7 v8 v9][v5 v6 v7 v8 v9]\n==== ${@:negative} ====\n[v9][v9]\n[v7 v8 v9][v7 v8 v9]\n[v1 v2 v3 v4 v5 v6 v7 v8 v9][v1 v2 v3 v4 v5 v6 v7 v8 v9]\n[$SH v1 v2 v3 v4 v5 v6 v7 v8 v9][$SH v1 v2 v3 v4 v5 v6 v7 v8 v9]\n[][]\n[v7 v8][v7 v8]\n[v1 v2 v3 v4][v1 v2 v3 v4]\n[$SH v1 v2 v3][$SH v1 v2 v3]\n[][]\n'
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-21-bash"></a><b>bash</b></td><td>21 <a href="array-sparse.test.html#L791">${a[@]:BigInt}</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-21-mksh"></a><b>mksh</b></td><td>21 <a href="array-sparse.test.html#L791">${a[@]:BigInt}</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-21-ksh"></a><b>ksh</b></td><td>21 <a href="array-sparse.test.html#L791">${a[@]:BigInt}</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected '[x][x]\n[y x][y x]\n[z y x][z y x]\n[z y x][z y x]\n'
Got      ''
</span><br/>
<span class="assertion">[ksh status] Expected 0, got 1</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[25]: ${a[@]: -1}: bad substitution
</pre></td></tr><tr><td><a name="details-21-toysh"></a><b>toysh</b></td><td>21 <a href="array-sparse.test.html#L791">${a[@]:BigInt}</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected '[x][x]\n[y x][y x]\n[z y x][z y x]\n[z y x][z y x]\n'
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-21-brush"></a><b>brush</b></td><td>21 <a href="array-sparse.test.html#L791">${a[@]:BigInt}</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected '[x][x]\n[y x][y x]\n[z y x][z y x]\n[z y x][z y x]\n'
Got      '[x][x]\n[y x][y x]\n[z y x][z y x]\n[3 z y x][3 z y x]\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>[x][x]
[y x][y x]
[z y x][z y x]
[3 z y x][3 z y x]
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-21-osh"></a><b>osh</b></td><td>21 <a href="array-sparse.test.html#L791">${a[@]:BigInt}</a><br/><br/>
<span class="assertion">
[osh stdout]
Expected '[x][x]\n[y x][y x]\n[z y x][z y x]\n[z y x][z y x]\n'
Got      '[x][x]\n[y x][y x]\n[z y x][z y x]\n[][]\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>[x][x]
[y x][y x]
[z y x][z y x]
[][]
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-22-toysh"></a><b>toysh</b></td><td>22 <a href="array-sparse.test.html#L846">${a[@]}</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected "['v0', 'v1', 'v5', 'v6', 'v8', 'v9']\n['abcv0', 'v1', 'v5', 'v6', 'v8', 'v9xyz']\n"
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got 2</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>main: line 1: sh: syntax error: v{0,1,2,3,4,5,6,7,8,9}
</pre></td></tr><tr><td><a name="details-22-sush"></a><b>sush</b></td><td>22 <a href="array-sparse.test.html#L846">${a[@]}</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected "['v0', 'v1', 'v5', 'v6', 'v8', 'v9']\n['abcv0', 'v1', 'v5', 'v6', 'v8', 'v9xyz']\n"
Got      "['v0', 'v1', 'v2', 'v3', 'v4', 'v5', 'v6', 'v7', 'v8', 'v9']\n['abcv0', 'v1', 'v2', 'v3', 'v4', 'v5', 'v6', 'v7', 'v8', 'v9xyz']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['v0', 'v1', 'v2', 'v3', 'v4', 'v5', 'v6', 'v7', 'v8', 'v9']
['abcv0', 'v1', 'v2', 'v3', 'v4', 'v5', 'v6', 'v7', 'v8', 'v9xyz']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-23-mksh"></a><b>mksh</b></td><td>23 <a href="array-sparse.test.html#L859">${a[@]#...}</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-23-ksh"></a><b>ksh</b></td><td>23 <a href="array-sparse.test.html#L859">${a[@]#...}</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected "['0', '1', '5', '6', '8', '9']\n['abc0', '1', '5', '6', '8', '9xyz']\n['v', 'v', 'v', 'v6', 'v8', 'v9']\n['abcv', 'v', 'v', 'v6', 'v8', 'v9xyz']\n['', '', '', '', '', '']\n"
Got      ''
</span><br/>
<span class="assertion">[ksh status] Expected 0, got 1</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[6]: ${a[@]#v}: bad substitution
</pre></td></tr><tr><td><a name="details-23-toysh"></a><b>toysh</b></td><td>23 <a href="array-sparse.test.html#L859">${a[@]#...}</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected "['0', '1', '5', '6', '8', '9']\n['abc0', '1', '5', '6', '8', '9xyz']\n['v', 'v', 'v', 'v6', 'v8', 'v9']\n['abcv', 'v', 'v', 'v6', 'v8', 'v9xyz']\n['', '', '', '', '', '']\n"
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-23-sush"></a><b>sush</b></td><td>23 <a href="array-sparse.test.html#L859">${a[@]#...}</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected "['0', '1', '5', '6', '8', '9']\n['abc0', '1', '5', '6', '8', '9xyz']\n['v', 'v', 'v', 'v6', 'v8', 'v9']\n['abcv', 'v', 'v', 'v6', 'v8', 'v9xyz']\n['', '', '', '', '', '']\n"
Got      "['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']\n['abc0', '1', '2', '3', '4', '5', '6', '7', '8', '9xyz']\n['v', 'v', 'v', 'v', 'v', 'v', 'v6', 'v7', 'v8', 'v9']\n['abcv', 'v', 'v', 'v', 'v', 'v', 'v6', 'v7', 'v8', 'v9xyz']\n['', '', '', '', '', '', '', '', '', '']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']
['abc0', '1', '2', '3', '4', '5', '6', '7', '8', '9xyz']
['v', 'v', 'v', 'v', 'v', 'v', 'v6', 'v7', 'v8', 'v9']
['abcv', 'v', 'v', 'v', 'v', 'v', 'v6', 'v7', 'v8', 'v9xyz']
['', '', '', '', '', '', '', '', '', '']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-24-mksh"></a><b>mksh</b></td><td>24 <a href="array-sparse.test.html#L883">${a[@]/pat/rep}</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-24-ksh"></a><b>ksh</b></td><td>24 <a href="array-sparse.test.html#L883">${a[@]/pat/rep}</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected "['0', '1', '5', '6', '8', '9']\n['', '', '', '', '', '']\n['0', '1', '5', '6', '8', '9']\n['v', 'v', 'v', 'v', 'v', 'v']\n['x0', 'x1', 'x5', 'x6', 'x8', 'x9']\n['x0', 'x1', 'x5', 'x6', 'x8', 'x9']\n['vD', 'vD', 'vD', 'v6', 'v8', 'v9']\n['_0', '_1', '_5', '__', '__', '__']\n"
Got      ''
</span><br/>
<span class="assertion">[ksh status] Expected 0, got 1</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[6]: ${a[@]/?}: bad substitution
</pre></td></tr><tr><td><a name="details-24-toysh"></a><b>toysh</b></td><td>24 <a href="array-sparse.test.html#L883">${a[@]/pat/rep}</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected "['0', '1', '5', '6', '8', '9']\n['', '', '', '', '', '']\n['0', '1', '5', '6', '8', '9']\n['v', 'v', 'v', 'v', 'v', 'v']\n['x0', 'x1', 'x5', 'x6', 'x8', 'x9']\n['x0', 'x1', 'x5', 'x6', 'x8', 'x9']\n['vD', 'vD', 'vD', 'v6', 'v8', 'v9']\n['_0', '_1', '_5', '__', '__', '__']\n"
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-24-sush"></a><b>sush</b></td><td>24 <a href="array-sparse.test.html#L883">${a[@]/pat/rep}</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected "['0', '1', '5', '6', '8', '9']\n['', '', '', '', '', '']\n['0', '1', '5', '6', '8', '9']\n['v', 'v', 'v', 'v', 'v', 'v']\n['x0', 'x1', 'x5', 'x6', 'x8', 'x9']\n['x0', 'x1', 'x5', 'x6', 'x8', 'x9']\n['vD', 'vD', 'vD', 'v6', 'v8', 'v9']\n['_0', '_1', '_5', '__', '__', '__']\n"
Got      "['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']\n['', '', '', '', '', '', '', '', '', '']\n['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']\n['v', 'v', 'v', 'v', 'v', 'v', 'v', 'v', 'v', 'v']\n['x0', 'x1', 'x2', 'x3', 'x4', 'x5', 'x6', 'x7', 'x8', 'x9']\n['x0', 'x1', 'x2', 'x3', 'x4', 'x5', 'x6', 'x7', 'x8', 'x9']\n['vD', 'vD', 'vD', 'vD', 'vD', 'vD', 'v6', 'v7', 'v8', 'v9']\n['_0', '_1', '_2', '_3', '_4', '_5', '__', '__', '__', '__']\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']
['', '', '', '', '', '', '', '', '', '']
['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']
['v', 'v', 'v', 'v', 'v', 'v', 'v', 'v', 'v', 'v']
['x0', 'x1', 'x2', 'x3', 'x4', 'x5', 'x6', 'x7', 'x8', 'x9']
['x0', 'x1', 'x2', 'x3', 'x4', 'x5', 'x6', 'x7', 'x8', 'x9']
['vD', 'vD', 'vD', 'vD', 'vD', 'vD', 'v6', 'v7', 'v8', 'v9']
['_0', '_1', '_2', '_3', '_4', '_5', '__', '__', '__', '__']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-25-bash"></a><b>bash</b></td><td>25 <a href="array-sparse.test.html#L915">${a[@]@P}, ${a[@]@Q}, and ${a[@]@a}</a><br/><br/>
<i>stdout:</i> <br/>
<pre>['v0', 'v1', 'v5', 'v6', 'v8', 'v9']
['v0 v1 v5 v6 v8 v9']
["'v0'", "'v1'", "'v5'", "'v6'", "'v8'", "'v9'"]
["'v0' 'v1' 'v5' 'v6' 'v8' 'v9'"]
['a', 'a', 'a', 'a', 'a', 'a']
['a a a a a a']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-25-mksh"></a><b>mksh</b></td><td>25 <a href="array-sparse.test.html#L915">${a[@]@P}, ${a[@]@Q}, and ${a[@]@a}</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-25-ksh"></a><b>ksh</b></td><td>25 <a href="array-sparse.test.html#L915">${a[@]@P}, ${a[@]@Q}, and ${a[@]@a}</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected "['v0', 'v1', 'v5', 'v6', 'v8', 'v9']\n['v0 v1 v5 v6 v8 v9']\n['v0', 'v1', 'v5', 'v6', 'v8', 'v9']\n['v0 v1 v5 v6 v8 v9']\n['a', 'a', 'a', 'a', 'a', 'a']\n['a a a a a a']\n"
Got      ''
</span><br/>
<span class="assertion">[ksh status] Expected 0, got 1</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[6]: ${a[@]@P}: bad substitution
</pre></td></tr><tr><td><a name="details-25-toysh"></a><b>toysh</b></td><td>25 <a href="array-sparse.test.html#L915">${a[@]@P}, ${a[@]@Q}, and ${a[@]@a}</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected "['v0', 'v1', 'v5', 'v6', 'v8', 'v9']\n['v0 v1 v5 v6 v8 v9']\n['v0', 'v1', 'v5', 'v6', 'v8', 'v9']\n['v0 v1 v5 v6 v8 v9']\n['a', 'a', 'a', 'a', 'a', 'a']\n['a a a a a a']\n"
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-25-sush"></a><b>sush</b></td><td>25 <a href="array-sparse.test.html#L915">${a[@]@P}, ${a[@]@Q}, and ${a[@]@a}</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected "['v0', 'v1', 'v5', 'v6', 'v8', 'v9']\n['v0 v1 v5 v6 v8 v9']\n['v0', 'v1', 'v5', 'v6', 'v8', 'v9']\n['v0 v1 v5 v6 v8 v9']\n['a', 'a', 'a', 'a', 'a', 'a']\n['a a a a a a']\n"
Got      ''
</span><br/>
<span class="assertion">[sush status] Expected 0, got 1</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 6: `${a[@]@P}': bad substitution
/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 7: `${a[*]@P}': bad substitution
/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 8: `${a[@]@Q}': bad substitution
/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 9: `${a[*]@Q}': bad substitution
/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 10: `${a[@]@a}': bad substitution
/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 11: `${a[*]@a}': bad substitution
</pre></td></tr><tr><td><a name="details-25-brush"></a><b>brush</b></td><td>25 <a href="array-sparse.test.html#L915">${a[@]@P}, ${a[@]@Q}, and ${a[@]@a}</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected "['v0', 'v1', 'v5', 'v6', 'v8', 'v9']\n['v0 v1 v5 v6 v8 v9']\n['v0', 'v1', 'v5', 'v6', 'v8', 'v9']\n['v0 v1 v5 v6 v8 v9']\n['a', 'a', 'a', 'a', 'a', 'a']\n['a a a a a a']\n"
Got      '[\'v0\', \'v1\', \'v5\', \'v6\', \'v8\', \'v9\']\n[\'v0 v1 v5 v6 v8 v9\']\n["\'v0\'", "\'v1\'", "\'v5\'", "\'v6\'", "\'v8\'", "\'v9\'"]\n["\'v0\' \'v1\' \'v5\' \'v6\' \'v8\' \'v9\'"]\n[\'a\']\n[\'a\']\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['v0', 'v1', 'v5', 'v6', 'v8', 'v9']
['v0 v1 v5 v6 v8 v9']
["'v0'", "'v1'", "'v5'", "'v6'", "'v8'", "'v9'"]
["'v0' 'v1' 'v5' 'v6' 'v8' 'v9'"]
['a']
['a']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-26-toysh"></a><b>toysh</b></td><td>26 <a href="array-sparse.test.html#L950">${a[@]-unset}, ${a[@]:-empty}, etc.</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'a1 unset: [unset]\na1 empty: [empty]\na2 unset: []\na2 empty: [empty]\na3 unset: [ ]\na3 empty: [ ]\n'
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got 2</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>main: line 1: sh: syntax error: a2=
</pre></td></tr><tr><td><a name="details-26-sush"></a><b>sush</b></td><td>26 <a href="array-sparse.test.html#L950">${a[@]-unset}, ${a[@]:-empty}, etc.</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected 'a1 unset: [unset]\na1 empty: [empty]\na2 unset: []\na2 empty: [empty]\na3 unset: [ ]\na3 empty: [ ]\n'
Got      'a1 unset: []\na1 empty: []\na2 unset: []\na2 empty: []\na3 unset: [ ]\na3 empty: [ ]\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>a1 unset: []
a1 empty: []
a2 unset: []
a2 empty: []
a3 unset: [ ]
a3 empty: [ ]
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-26-brush"></a><b>brush</b></td><td>26 <a href="array-sparse.test.html#L950">${a[@]-unset}, ${a[@]:-empty}, etc.</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected 'a1 unset: [unset]\na1 empty: [empty]\na2 unset: []\na2 empty: [empty]\na3 unset: [ ]\na3 empty: [ ]\n'
Got      'a1 unset: []\na1 empty: [empty]\na2 unset: []\na2 empty: [empty]\na3 unset: [ ]\na3 empty: [empty]\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>a1 unset: []
a1 empty: [empty]
a2 unset: []
a2 empty: [empty]
a3 unset: [ ]
a3 empty: [empty]
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-27-toysh"></a><b>toysh</b></td><td>27 <a href="array-sparse.test.html#L972">${a-}</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected ', (unset), (empty);\n, , (empty);\nfoo, foo, foo;\n'
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got 2</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>main: line 1: sh: syntax error: a2=
</pre></td></tr><tr><td><a name="details-28-mksh"></a><b>mksh</b></td><td>28 <a href="array-sparse.test.html#L988">${!a[0]}</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-28-ksh"></a><b>ksh</b></td><td>28 <a href="array-sparse.test.html#L988">${!a[0]}</a><br/><br/>
<span class="assertion">[ksh stdout] Expected 'hello, world\n', got 'a[0], a[1]\n'</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>a[0], a[1]
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-28-toysh"></a><b>toysh</b></td><td>28 <a href="array-sparse.test.html#L988">${!a[0]}</a><br/><br/>
<span class="assertion">[toysh stdout] Expected 'hello, world\n', got ''</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-29-mksh"></a><b>mksh</b></td><td>29 <a href="array-sparse.test.html#L1004">${!a[@]}</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-29-ksh"></a><b>ksh</b></td><td>29 <a href="array-sparse.test.html#L1004">${!a[@]}</a><br/><br/>
<span class="assertion">[ksh stdout] Expected "['0', '1', '2', '5', '6', '8']\n", got "['0']\n"</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['0']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-29-toysh"></a><b>toysh</b></td><td>29 <a href="array-sparse.test.html#L1004">${!a[@]}</a><br/><br/>
<span class="assertion">[toysh stdout] Expected "['0', '1', '2', '5', '6', '8']\n", got ''</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-29-sush"></a><b>sush</b></td><td>29 <a href="array-sparse.test.html#L1004">${!a[@]}</a><br/><br/>
<span class="assertion">[sush stdout] Expected "['0', '1', '2', '5', '6', '8']\n", got "['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']\n"</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-30-toysh"></a><b>toysh</b></td><td>30 <a href="array-sparse.test.html#L1020">"${a[*]}"</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected 'v0 v1 v2 v5 v6 v8\nv0v1v2v5v6v8\nv0/v1/v2/v5/v6/v8\n'
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got 2</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>main: line 1: sh: syntax error: v{0,1,2,3,4,5,6,7,8,9}
</pre></td></tr><tr><td><a name="details-30-sush"></a><b>sush</b></td><td>30 <a href="array-sparse.test.html#L1020">"${a[*]}"</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected 'v0 v1 v2 v5 v6 v8\nv0v1v2v5v6v8\nv0/v1/v2/v5/v6/v8\n'
Got      'v0 v1 v2 v3 v4 v5 v6 v7 v8 v9\nv0v1v2v3v4v5v6v7v8v9\nv0/v1/v2/v3/v4/v5/v6/v7/v8/v9\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>v0 v1 v2 v3 v4 v5 v6 v7 v8 v9
v0v1v2v3v4v5v6v7v8v9
v0/v1/v2/v3/v4/v5/v6/v7/v8/v9
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-30-brush"></a><b>brush</b></td><td>30 <a href="array-sparse.test.html#L1020">"${a[*]}"</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected 'v0 v1 v2 v5 v6 v8\nv0v1v2v5v6v8\nv0/v1/v2/v5/v6/v8\n'
Got      'v0 v1 v2 v5 v6 v8\nv0 v1 v2 v5 v6 v8\nv0/v1/v2/v5/v6/v8\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>v0 v1 v2 v5 v6 v8
v0 v1 v2 v5 v6 v8
v0/v1/v2/v5/v6/v8
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-31-mksh"></a><b>mksh</b></td><td>31 <a href="array-sparse.test.html#L1037">compgen -F _set_COMPREPLY</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-31-ksh"></a><b>ksh</b></td><td>31 <a href="array-sparse.test.html#L1037">compgen -F _set_COMPREPLY</a><br/><br/>
<span class="assertion">[ksh stdout] Expected '0\n1\n3\n5\n7\n8\n9\n', got ''</span><br/>
<span class="assertion">[ksh status] Expected 0, got 127</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[8]: compgen: inaccessible or not found
</pre></td></tr><tr><td><a name="details-31-toysh"></a><b>toysh</b></td><td>31 <a href="array-sparse.test.html#L1037">compgen -F _set_COMPREPLY</a><br/><br/>
<span class="assertion">[toysh stdout] Expected '0\n1\n3\n5\n7\n8\n9\n', got ''</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-31-sush"></a><b>sush</b></td><td>31 <a href="array-sparse.test.html#L1037">compgen -F _set_COMPREPLY</a><br/><br/>
<span class="assertion">[sush stdout] Expected '0\n1\n3\n5\n7\n8\n9\n', got ''</span><br/>
<span class="assertion">[sush status] Expected 0, got 2</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>sush: compgen: -F: invalid option
</pre></td></tr><tr><td><a name="details-32-bash"></a><b>bash</b></td><td>32 <a href="array-sparse.test.html#L1061">compadjust</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-32-mksh"></a><b>mksh</b></td><td>32 <a href="array-sparse.test.html#L1061">compadjust</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-32-ksh"></a><b>ksh</b></td><td>32 <a href="array-sparse.test.html#L1061">compadjust</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected "['world!', 'Bash', '3']\n['echo', 'Hello,', 'Bash', 'world!']\n"
Got      "['', '', '']\n[]\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['', '', '']
[]
</pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[4]: compadjust: inaccessible or not found
</pre></td></tr><tr><td><a name="details-32-toysh"></a><b>toysh</b></td><td>32 <a href="array-sparse.test.html#L1061">compadjust</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected "['world!', 'Bash', '3']\n['echo', 'Hello,', 'Bash', 'world!']\n"
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-32-sush"></a><b>sush</b></td><td>32 <a href="array-sparse.test.html#L1061">compadjust</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected "['world!', 'Bash', '3']\n['echo', 'Hello,', 'Bash', 'world!']\n"
Got      "['', '', '']\n[]\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['', '', '']
[]
</pre><i>stderr:</i> <br/>
<pre>/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 4: compadjust: command not found
</pre></td></tr><tr><td><a name="details-32-brush"></a><b>brush</b></td><td>32 <a href="array-sparse.test.html#L1061">compadjust</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected "['world!', 'Bash', '3']\n['echo', 'Hello,', 'Bash', 'world!']\n"
Got      "['', '', '']\n[]\n"
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['', '', '']
[]
</pre><i>stderr:</i> <br/>
<pre>compadjust: command not found
</pre></td></tr><tr><td><a name="details-33-bash"></a><b>bash</b></td><td>33 <a href="array-sparse.test.html#L1078">(YSH) @[sp] and @sp</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-33-mksh"></a><b>mksh</b></td><td>33 <a href="array-sparse.test.html#L1078">(YSH) @[sp] and @sp</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-33-ksh"></a><b>ksh</b></td><td>33 <a href="array-sparse.test.html#L1078">(YSH) @[sp] and @sp</a><br/><br/>
<span class="assertion">[ksh stdout] Expected "['0', '3', '5']\n['0', '3', '5']\n", got "['@[a]']\n['@a']\n"</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['@[a]']
['@a']
</pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[6]: shopt: inaccessible or not found
</pre></td></tr><tr><td><a name="details-33-toysh"></a><b>toysh</b></td><td>33 <a href="array-sparse.test.html#L1078">(YSH) @[sp] and @sp</a><br/><br/>
<span class="assertion">[toysh stdout] Expected "['0', '3', '5']\n['0', '3', '5']\n", got ''</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-33-sush"></a><b>sush</b></td><td>33 <a href="array-sparse.test.html#L1078">(YSH) @[sp] and @sp</a><br/><br/>
<span class="assertion">[sush stdout] Expected "['0', '3', '5']\n['0', '3', '5']\n", got "['@[a]']\n['@a']\n"</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['@[a]']
['@a']
</pre><i>stderr:</i> <br/>
<pre>/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 6: shopt: parse_at: not supported yet
</pre></td></tr><tr><td><a name="details-33-brush"></a><b>brush</b></td><td>33 <a href="array-sparse.test.html#L1078">(YSH) @[sp] and @sp</a><br/><br/>
<span class="assertion">[brush stdout] Expected "['0', '3', '5']\n['0', '3', '5']\n", got "['@[a]']\n['@a']\n"</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>['@[a]']
['@a']
</pre><i>stderr:</i> <br/>
<pre>shopt: parse_at: invalid shell option name
</pre></td></tr><tr><td><a name="details-34-bash"></a><b>bash</b></td><td>34 <a href="array-sparse.test.html#L1096">(YSH) $[a1 === a2]</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-34-mksh"></a><b>mksh</b></td><td>34 <a href="array-sparse.test.html#L1096">(YSH) $[a1 === a2]</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-34-ksh"></a><b>ksh</b></td><td>34 <a href="array-sparse.test.html#L1096">(YSH) $[a1 === a2]</a><br/><br/>
<span class="assertion">[ksh stdout] Expected 'true\ntrue\nfalse\nfalse\ntrue\nfalse\nfalse\n', got '$[a1 === a1]\n$[a1 === a2]\n$[a1 === a3]\n$[a1 === a4]\n$[a2 === a1]\n$[a3 === a1]\n$[a4 === a1]\n'</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>$[a1 === a1]
$[a1 === a2]
$[a1 === a3]
$[a1 === a4]
$[a2 === a1]
$[a3 === a1]
$[a4 === a1]
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-34-toysh"></a><b>toysh</b></td><td>34 <a href="array-sparse.test.html#L1096">(YSH) $[a1 === a2]</a><br/><br/>
<span class="assertion">[toysh stdout] Expected 'true\ntrue\nfalse\nfalse\ntrue\nfalse\nfalse\n', got ''</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-34-sush"></a><b>sush</b></td><td>34 <a href="array-sparse.test.html#L1096">(YSH) $[a1 === a2]</a><br/><br/>
<span class="assertion">[sush stdout] Expected 'true\ntrue\nfalse\nfalse\ntrue\nfalse\nfalse\n', got '$[a1 === a1]\n$[a1 === a2]\n$[a1 === a3]\n$[a1 === a4]\n$[a2 === a1]\n$[a3 === a1]\n$[a4 === a1]\n'</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>$[a1 === a1]
$[a1 === a2]
$[a1 === a3]
$[a1 === a4]
$[a2 === a1]
$[a3 === a1]
$[a4 === a1]
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-34-brush"></a><b>brush</b></td><td>34 <a href="array-sparse.test.html#L1096">(YSH) $[a1 === a2]</a><br/><br/>
<span class="assertion">[brush stdout] Expected 'true\ntrue\nfalse\nfalse\ntrue\nfalse\nfalse\n', got '$[a1 === a1]\n$[a1 === a2]\n$[a1 === a3]\n$[a1 === a4]\n$[a2 === a1]\n$[a3 === a1]\n$[a4 === a1]\n'</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre>$[a1 === a1]
$[a1 === a2]
$[a1 === a3]
$[a1 === a4]
$[a2 === a1]
$[a3 === a1]
$[a4 === a1]
</pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-35-bash"></a><b>bash</b></td><td>35 <a href="array-sparse.test.html#L1129">(YSH) append v1 v2... (a)</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-35-mksh"></a><b>mksh</b></td><td>35 <a href="array-sparse.test.html#L1129">(YSH) append v1 v2... (a)</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-35-ksh"></a><b>ksh</b></td><td>35 <a href="array-sparse.test.html#L1129">(YSH) append v1 v2... (a)</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected "(BashArray [0]='1' [2]='3' [3]='x' [4]='y' [5]='z')\n"
Got      ''
</span><br/>
<span class="assertion">[ksh status] Expected 0, got 1</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[5]: syntax error: unexpected '('
</pre></td></tr><tr><td><a name="details-35-toysh"></a><b>toysh</b></td><td>35 <a href="array-sparse.test.html#L1129">(YSH) append v1 v2... (a)</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected "(BashArray [0]='1' [2]='3' [3]='x' [4]='y' [5]='z')\n"
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-35-sush"></a><b>sush</b></td><td>35 <a href="array-sparse.test.html#L1129">(YSH) append v1 v2... (a)</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected "(BashArray [0]='1' [2]='3' [3]='x' [4]='y' [5]='z')\n"
Got      ''
</span><br/>
<span class="assertion">[sush status] Expected 0, got 127</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 6: Unexpected token: (a)

/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 6: =: command not found
</pre></td></tr><tr><td><a name="details-35-brush"></a><b>brush</b></td><td>35 <a href="array-sparse.test.html#L1129">(YSH) append v1 v2... (a)</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected "(BashArray [0]='1' [2]='3' [3]='x' [4]='y' [5]='z')\n"
Got      ''
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>[31mERROR[0m main: syntax error near token `
' (line 1 col 23)
=: command not found
</pre></td></tr><tr><td><a name="details-36-bash"></a><b>bash</b></td><td>36 <a href="array-sparse.test.html#L1145">(YSH) $[bool(a)]</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-36-mksh"></a><b>mksh</b></td><td>36 <a href="array-sparse.test.html#L1145">(YSH) $[bool(a)]</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-36-ksh"></a><b>ksh</b></td><td>36 <a href="array-sparse.test.html#L1145">(YSH) $[bool(a)]</a><br/><br/>
<span class="assertion">[ksh stdout] Expected 'false\ntrue\ntrue\ntrue\n', got ''</span><br/>
<span class="assertion">[ksh status] Expected 0, got 1</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[9]: syntax error: unexpected '('
</pre></td></tr><tr><td><a name="details-36-toysh"></a><b>toysh</b></td><td>36 <a href="array-sparse.test.html#L1145">(YSH) $[bool(a)]</a><br/><br/>
<span class="assertion">[toysh stdout] Expected 'false\ntrue\ntrue\ntrue\n', got ''</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-36-sush"></a><b>sush</b></td><td>36 <a href="array-sparse.test.html#L1145">(YSH) $[bool(a)]</a><br/><br/>
<span class="assertion">[sush stdout] Expected 'false\ntrue\ntrue\ntrue\n', got ''</span><br/>
<span class="assertion">[sush status] Expected 0, got 2</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 10: Unexpected token: (a1)]

/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 11: Unexpected token: (a2)]

/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 12: Unexpected token: (a3)]

/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 13: Unexpected token: (a4)]

</pre></td></tr><tr><td><a name="details-36-brush"></a><b>brush</b></td><td>36 <a href="array-sparse.test.html#L1145">(YSH) $[bool(a)]</a><br/><br/>
<span class="assertion">[brush stdout] Expected 'false\ntrue\ntrue\ntrue\n', got ''</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>[31mERROR[0m main: syntax error near token `]' (line 1 col 16)
[31mERROR[0m main: syntax error near token `]' (line 1 col 16)
[31mERROR[0m main: syntax error near token `]' (line 1 col 16)
[31mERROR[0m main: syntax error near token `]' (line 1 col 16)
</pre></td></tr><tr><td><a name="details-37-bash"></a><b>bash</b></td><td>37 <a href="array-sparse.test.html#L1170">crash dump</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-37-mksh"></a><b>mksh</b></td><td>37 <a href="array-sparse.test.html#L1170">crash dump</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-37-ksh"></a><b>ksh</b></td><td>37 <a href="array-sparse.test.html#L1170">crash dump</a><br/><br/>
<span class="assertion">
[ksh stdout]
Expected '{\n  "val": {\n    "type": "BashArray",\n    "data": {\n      "0": "0",\n      "1": "1",\n      "3": "3"\n    }\n  }\n}\n'
Got      ''
</span><br/>
<span class="assertion">[ksh status] Expected 0, got 1</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[4]: syntax error: unexpected '('
</pre></td></tr><tr><td><a name="details-37-toysh"></a><b>toysh</b></td><td>37 <a href="array-sparse.test.html#L1170">crash dump</a><br/><br/>
<span class="assertion">
[toysh stdout]
Expected '{\n  "val": {\n    "type": "BashArray",\n    "data": {\n      "0": "0",\n      "1": "1",\n      "3": "3"\n    }\n  }\n}\n'
Got      ''
</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-37-sush"></a><b>sush</b></td><td>37 <a href="array-sparse.test.html#L1170">crash dump</a><br/><br/>
<span class="assertion">
[sush stdout]
Expected '{\n  "val": {\n    "type": "BashArray",\n    "data": {\n      "0": "0",\n      "1": "1",\n      "3": "3"\n    }\n  }\n}\n'
Got      ''
</span><br/>
<span class="assertion">[sush status] Expected 0, got 2</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 5: Unexpected token: (&amp;crash_dump)
/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 6: Unexpected token: (crash_dump.var_stack[0].a)

</pre></td></tr><tr><td><a name="details-37-brush"></a><b>brush</b></td><td>37 <a href="array-sparse.test.html#L1170">crash dump</a><br/><br/>
<span class="assertion">
[brush stdout]
Expected '{\n  "val": {\n    "type": "BashArray",\n    "data": {\n      "0": "0",\n      "1": "1",\n      "3": "3"\n    }\n  }\n}\n'
Got      ''
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>[31mERROR[0m error: failed to source file: -ec; i/o error: No such file or directory (os error 2)
[31mERROR[0m main: syntax error near token `&amp;' (line 1 col 12)
[31mERROR[0m main: syntax error near token `
' (line 1 col 39)
</pre></td></tr><tr><td><a name="details-38-bash"></a><b>bash</b></td><td>38 <a href="array-sparse.test.html#L1194">Regression: a[-1]=1</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>bash: line 3: a[-1]: bad array subscript
</pre></td></tr><tr><td><a name="details-38-mksh"></a><b>mksh</b></td><td>38 <a href="array-sparse.test.html#L1194">Regression: a[-1]=1</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-38-ksh"></a><b>ksh</b></td><td>38 <a href="array-sparse.test.html#L1194">Regression: a[-1]=1</a><br/><br/>
<span class="assertion">
[ksh stderr]
Expected '  a[-1]=1\n  ^~\n[ stdin ]:3: fatal: Index %d is out of bounds for array of length 0\n'
Got      ''
</span><br/>
<span class="assertion">[ksh status] Expected 1, got 0</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-38-toysh"></a><b>toysh</b></td><td>38 <a href="array-sparse.test.html#L1194">Regression: a[-1]=1</a><br/><br/>
<span class="assertion">
[toysh stderr]
Expected '  a[-1]=1\n  ^~\n[ stdin ]:3: fatal: Index %d is out of bounds for array of length 0\n'
Got      'munmap_chunk(): invalid pointer\n'
</span><br/>
<span class="assertion">[toysh status] Expected 1, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr><tr><td><a name="details-38-sush"></a><b>sush</b></td><td>38 <a href="array-sparse.test.html#L1194">Regression: a[-1]=1</a><br/><br/>
<span class="assertion">
[sush stderr]
Expected '  a[-1]=1\n  ^~\n[ stdin ]:3: fatal: Index %d is out of bounds for array of length 0\n'
Got      '/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 3: TODO\n'
</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>/home/andy/git/oils-for-unix/oils/../../shells/rusty_bash/target/release/sush: line 3: TODO
</pre></td></tr><tr><td><a name="details-38-brush"></a><b>brush</b></td><td>38 <a href="array-sparse.test.html#L1194">Regression: a[-1]=1</a><br/><br/>
<span class="assertion">
[brush stderr]
Expected '  a[-1]=1\n  ^~\n[ stdin ]:3: fatal: Index %d is out of bounds for array of length 0\n'
Got      ''
</span><br/>
<span class="assertion">[brush status] Expected 1, got 0</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-39-mksh"></a><b>mksh</b></td><td>39 <a href="array-sparse.test.html#L1214">Initializing indexed array with ([index]=value)</a><br/><br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre></pre></td></tr><tr><td><a name="details-39-ksh"></a><b>ksh</b></td><td>39 <a href="array-sparse.test.html#L1214">Initializing indexed array with ([index]=value)</a><br/><br/>
<span class="assertion">[ksh stdout] Expected "status=0\n['3']\n", got ''</span><br/>
<span class="assertion">[ksh status] Expected 0, got 1</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>E: ksh: &lt;stdin&gt;[2]: syntax error: unexpected '('
</pre></td></tr><tr><td><a name="details-39-toysh"></a><b>toysh</b></td><td>39 <a href="array-sparse.test.html#L1214">Initializing indexed array with ([index]=value)</a><br/><br/>
<span class="assertion">[toysh stdout] Expected "status=0\n['3']\n", got ''</span><br/>
<span class="assertion">[toysh status] Expected 0, got -6</span><br/>
<br/>
<i>stdout:</i> <br/>
<pre></pre><i>stderr:</i> <br/>
<pre>munmap_chunk(): invalid pointer
</pre></td></tr></table></body></html>